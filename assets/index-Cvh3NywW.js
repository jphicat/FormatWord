(function(){const I=document.createElement("link").relList;if(I&&I.supports&&I.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))w(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&w(a)}).observe(document,{childList:!0,subtree:!0});function l(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerPolicy&&(i.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?i.credentials="include":c.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function w(c){if(c.ep)return;c.ep=!0;const i=l(c);fetch(c.href,i)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function de(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}function It(C){throw new Error('Could not dynamically require "'+C+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Tt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Zt;function he(){return Zt||(Zt=1,(function(C,I){(function(l){C.exports=l()})(function(){return(function l(w,c,i){function a(u,h){if(!c[u]){if(!w[u]){var p=typeof It=="function"&&It;if(!h&&p)return p(u,!0);if(e)return e(u,!0);var _=new Error("Cannot find module '"+u+"'");throw _.code="MODULE_NOT_FOUND",_}var r=c[u]={exports:{}};w[u][0].call(r.exports,function(g){var s=w[u][1][g];return a(s||g)},r,r.exports,l,w,c,i)}return c[u].exports}for(var e=typeof It=="function"&&It,o=0;o<i.length;o++)a(i[o]);return a})({1:[function(l,w,c){var i=l("./utils"),a=l("./support"),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(o){for(var u,h,p,_,r,g,s,m=[],d=0,v=o.length,x=v,E=i.getTypeOf(o)!=="string";d<o.length;)x=v-d,p=E?(u=o[d++],h=d<v?o[d++]:0,d<v?o[d++]:0):(u=o.charCodeAt(d++),h=d<v?o.charCodeAt(d++):0,d<v?o.charCodeAt(d++):0),_=u>>2,r=(3&u)<<4|h>>4,g=1<x?(15&h)<<2|p>>6:64,s=2<x?63&p:64,m.push(e.charAt(_)+e.charAt(r)+e.charAt(g)+e.charAt(s));return m.join("")},c.decode=function(o){var u,h,p,_,r,g,s=0,m=0,d="data:";if(o.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var v,x=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===e.charAt(64)&&x--,o.charAt(o.length-2)===e.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|x):new Array(0|x);s<o.length;)u=e.indexOf(o.charAt(s++))<<2|(_=e.indexOf(o.charAt(s++)))>>4,h=(15&_)<<4|(r=e.indexOf(o.charAt(s++)))>>2,p=(3&r)<<6|(g=e.indexOf(o.charAt(s++))),v[m++]=u,r!==64&&(v[m++]=h),g!==64&&(v[m++]=p);return v}},{"./support":30,"./utils":32}],2:[function(l,w,c){var i=l("./external"),a=l("./stream/DataWorker"),e=l("./stream/Crc32Probe"),o=l("./stream/DataLengthProbe");function u(h,p,_,r,g){this.compressedSize=h,this.uncompressedSize=p,this.crc32=_,this.compression=r,this.compressedContent=g}u.prototype={getContentWorker:function(){var h=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,p,_){return h.pipe(new e).pipe(new o("uncompressedSize")).pipe(p.compressWorker(_)).pipe(new o("compressedSize")).withStreamInfo("compression",p)},w.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,w,c){var i=l("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},c.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,w,c){var i=l("./utils"),a=(function(){for(var e,o=[],u=0;u<256;u++){e=u;for(var h=0;h<8;h++)e=1&e?3988292384^e>>>1:e>>>1;o[u]=e}return o})();w.exports=function(e,o){return e!==void 0&&e.length?i.getTypeOf(e)!=="string"?(function(u,h,p,_){var r=a,g=_+p;u^=-1;for(var s=_;s<g;s++)u=u>>>8^r[255&(u^h[s])];return-1^u})(0|o,e,e.length,0):(function(u,h,p,_){var r=a,g=_+p;u^=-1;for(var s=_;s<g;s++)u=u>>>8^r[255&(u^h.charCodeAt(s))];return-1^u})(0|o,e,e.length,0):0}},{"./utils":32}],5:[function(l,w,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(l,w,c){var i=null;i=typeof Promise<"u"?Promise:l("lie"),w.exports={Promise:i}},{lie:37}],7:[function(l,w,c){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=l("pako"),e=l("./utils"),o=l("./stream/GenericWorker"),u=i?"uint8array":"array";function h(p,_){o.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=_,this.meta={}}c.magic="\b\0",e.inherits(h,o),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(e.transformTo(u,p.data),!1)},h.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(_){p.push({data:_,meta:p.meta})}},c.compressWorker=function(p){return new h("Deflate",p)},c.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,w,c){function i(r,g){var s,m="";for(s=0;s<g;s++)m+=String.fromCharCode(255&r),r>>>=8;return m}function a(r,g,s,m,d,v){var x,E,S=r.file,D=r.compression,N=v!==u.utf8encode,P=e.transformTo("string",v(S.name)),R=e.transformTo("string",u.utf8encode(S.name)),$=S.comment,J=e.transformTo("string",v($)),b=e.transformTo("string",u.utf8encode($)),F=R.length!==S.name.length,n=b.length!==$.length,L="",tt="",M="",et=S.dir,Z=S.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};g&&!s||(Q.crc32=r.crc32,Q.compressedSize=r.compressedSize,Q.uncompressedSize=r.uncompressedSize);var B=0;g&&(B|=8),N||!F&&!n||(B|=2048);var A=0,V=0;et&&(A|=16),d==="UNIX"?(V=798,A|=(function(X,lt){var ht=X;return X||(ht=lt?16893:33204),(65535&ht)<<16})(S.unixPermissions,et)):(V=20,A|=(function(X){return 63&(X||0)})(S.dosPermissions)),x=Z.getUTCHours(),x<<=6,x|=Z.getUTCMinutes(),x<<=5,x|=Z.getUTCSeconds()/2,E=Z.getUTCFullYear()-1980,E<<=4,E|=Z.getUTCMonth()+1,E<<=5,E|=Z.getUTCDate(),F&&(tt=i(1,1)+i(h(P),4)+R,L+="up"+i(tt.length,2)+tt),n&&(M=i(1,1)+i(h(J),4)+b,L+="uc"+i(M.length,2)+M);var q="";return q+=`
\0`,q+=i(B,2),q+=D.magic,q+=i(x,2),q+=i(E,2),q+=i(Q.crc32,4),q+=i(Q.compressedSize,4),q+=i(Q.uncompressedSize,4),q+=i(P.length,2),q+=i(L.length,2),{fileRecord:p.LOCAL_FILE_HEADER+q+P+L,dirRecord:p.CENTRAL_FILE_HEADER+i(V,2)+q+i(J.length,2)+"\0\0\0\0"+i(A,4)+i(m,4)+P+L+J}}var e=l("../utils"),o=l("../stream/GenericWorker"),u=l("../utf8"),h=l("../crc32"),p=l("../signature");function _(r,g,s,m){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=s,this.encodeFileName=m,this.streamFiles=r,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}e.inherits(_,o),_.prototype.push=function(r){var g=r.meta.percent||0,s=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(r):(this.bytesWritten+=r.data.length,o.prototype.push.call(this,{data:r.data,meta:{currentFile:this.currentFile,percent:s?(g+100*(s-m-1))/s:100}}))},_.prototype.openedSource=function(r){this.currentSourceOffset=this.bytesWritten,this.currentFile=r.file.name;var g=this.streamFiles&&!r.file.dir;if(g){var s=a(r,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(r){this.accumulate=!1;var g=this.streamFiles&&!r.file.dir,s=a(r,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),g)this.push({data:(function(m){return p.DATA_DESCRIPTOR+i(m.crc32,4)+i(m.compressedSize,4)+i(m.uncompressedSize,4)})(r),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var r=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var s=this.bytesWritten-r,m=(function(d,v,x,E,S){var D=e.transformTo("string",S(E));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(v,4)+i(x,4)+i(D.length,2)+D})(this.dirRecords.length,s,r,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(r){this._sources.push(r);var g=this;return r.on("data",function(s){g.processChunk(s)}),r.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),r.on("error",function(s){g.error(s)}),this},_.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(r){var g=this._sources;if(!o.prototype.error.call(this,r))return!1;for(var s=0;s<g.length;s++)try{g[s].error(r)}catch{}return!0},_.prototype.lock=function(){o.prototype.lock.call(this);for(var r=this._sources,g=0;g<r.length;g++)r[g].lock()},w.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,w,c){var i=l("../compressions"),a=l("./ZipFileWorker");c.generateWorker=function(e,o,u){var h=new a(o.streamFiles,u,o.platform,o.encodeFileName),p=0;try{e.forEach(function(_,r){p++;var g=(function(v,x){var E=v||x,S=i[E];if(!S)throw new Error(E+" is not a valid compression method !");return S})(r.options.compression,o.compression),s=r.options.compressionOptions||o.compressionOptions||{},m=r.dir,d=r.date;r._compressWorker(g,s).withStreamInfo("file",{name:_,dir:m,date:d,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(h)}),h.entriesCount=p}catch(_){h.error(_)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,w,c){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var e in this)typeof this[e]!="function"&&(a[e]=this[e]);return a}}(i.prototype=l("./object")).loadAsync=l("./load"),i.support=l("./support"),i.defaults=l("./defaults"),i.version="3.10.1",i.loadAsync=function(a,e){return new i().loadAsync(a,e)},i.external=l("./external"),w.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,w,c){var i=l("./utils"),a=l("./external"),e=l("./utf8"),o=l("./zipEntries"),u=l("./stream/Crc32Probe"),h=l("./nodejsUtils");function p(_){return new a.Promise(function(r,g){var s=_.decompressed.getContentWorker().pipe(new u);s.on("error",function(m){g(m)}).on("end",function(){s.streamInfo.crc32!==_.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):r()}).resume()})}w.exports=function(_,r){var g=this;return r=i.extend(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),h.isNode&&h.isStream(_)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",_,!0,r.optimizedBinaryString,r.base64).then(function(s){var m=new o(r);return m.load(s),m}).then(function(s){var m=[a.Promise.resolve(s)],d=s.files;if(r.checkCRC32)for(var v=0;v<d.length;v++)m.push(p(d[v]));return a.Promise.all(m)}).then(function(s){for(var m=s.shift(),d=m.files,v=0;v<d.length;v++){var x=d[v],E=x.fileNameStr,S=i.resolve(x.fileNameStr);g.file(S,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:r.createFolders}),x.dir||(g.file(S).unsafeOriginalName=E)}return m.zipComment.length&&(g.comment=m.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,w,c){var i=l("../utils"),a=l("../stream/GenericWorker");function e(o,u){a.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(e,a),e.prototype._bindStream=function(o){var u=this;(this._stream=o).pause(),o.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},e.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},e.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},w.exports=e},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,w,c){var i=l("readable-stream").Readable;function a(e,o,u){i.call(this,o),this._helper=e;var h=this;e.on("data",function(p,_){h.push(p)||h._helper.pause(),u&&u(_)}).on("error",function(p){h.emit("error",p)}).on("end",function(){h.push(null)})}l("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},w.exports=a},{"../utils":32,"readable-stream":16}],14:[function(l,w,c){w.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(l,w,c){function i(S,D,N){var P,R=e.getTypeOf(D),$=e.extend(N||{},h);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(S=d(S)),$.createFolders&&(P=m(S))&&v.call(this,P,!0);var J=R==="string"&&$.binary===!1&&$.base64===!1;N&&N.binary!==void 0||($.binary=!J),(D instanceof p&&D.uncompressedSize===0||$.dir||!D||D.length===0)&&($.base64=!1,$.binary=!0,D="",$.compression="STORE",R="string");var b=null;b=D instanceof p||D instanceof o?D:g.isNode&&g.isStream(D)?new s(S,D):e.prepareContent(S,D,$.binary,$.optimizedBinaryString,$.base64);var F=new _(S,b,$);this.files[S]=F}var a=l("./utf8"),e=l("./utils"),o=l("./stream/GenericWorker"),u=l("./stream/StreamHelper"),h=l("./defaults"),p=l("./compressedObject"),_=l("./zipObject"),r=l("./generate"),g=l("./nodejsUtils"),s=l("./nodejs/NodejsStreamInputAdapter"),m=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var D=S.lastIndexOf("/");return 0<D?S.substring(0,D):""},d=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},v=function(S,D){return D=D!==void 0?D:h.createFolders,S=d(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:D}),this.files[S]};function x(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var D,N,P;for(D in this.files)P=this.files[D],(N=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&S(N,P)},filter:function(S){var D=[];return this.forEach(function(N,P){S(N,P)&&D.push(P)}),D},file:function(S,D,N){if(arguments.length!==1)return S=this.root+S,i.call(this,S,D,N),this;if(x(S)){var P=S;return this.filter(function($,J){return!J.dir&&P.test($)})}var R=this.files[this.root+S];return R&&!R.dir?R:null},folder:function(S){if(!S)return this;if(x(S))return this.filter(function(R,$){return $.dir&&S.test(R)});var D=this.root+S,N=v.call(this,D),P=this.clone();return P.root=N.name,P},remove:function(S){S=this.root+S;var D=this.files[S];if(D||(S.slice(-1)!=="/"&&(S+="/"),D=this.files[S]),D&&!D.dir)delete this.files[S];else for(var N=this.filter(function(R,$){return $.name.slice(0,S.length)===S}),P=0;P<N.length;P++)delete this.files[N[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var D,N={};try{if((N=e.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");e.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var P=N.comment||this.comment||"";D=r.generateWorker(this,N,P)}catch(R){(D=new o("error")).error(R)}return new u(D,N.type||"string",N.mimeType)},generateAsync:function(S,D){return this.generateInternalStream(S).accumulate(D)},generateNodeStream:function(S,D){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(D)}};w.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,w,c){w.exports=l("stream")},{stream:void 0}],17:[function(l,w,c){var i=l("./DataReader");function a(e){i.call(this,e);for(var o=0;o<this.data.length;o++)e[o]=255&e[o]}l("../utils").inherits(a,i),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var o=e.charCodeAt(0),u=e.charCodeAt(1),h=e.charCodeAt(2),p=e.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===o&&this.data[_+1]===u&&this.data[_+2]===h&&this.data[_+3]===p)return _-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var o=e.charCodeAt(0),u=e.charCodeAt(1),h=e.charCodeAt(2),p=e.charCodeAt(3),_=this.readData(4);return o===_[0]&&u===_[1]&&h===_[2]&&p===_[3]},a.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,o},w.exports=a},{"../utils":32,"./DataReader":18}],18:[function(l,w,c){var i=l("../utils");function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var o,u=0;for(this.checkOffset(e),o=this.index+e-1;o>=this.index;o--)u=(u<<8)+this.byteAt(o);return this.index+=e,u},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},w.exports=a},{"../utils":32}],19:[function(l,w,c){var i=l("./Uint8ArrayReader");function a(e){i.call(this,e)}l("../utils").inherits(a,i),a.prototype.readData=function(e){this.checkOffset(e);var o=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,o},w.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,w,c){var i=l("./DataReader");function a(e){i.call(this,e)}l("../utils").inherits(a,i),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var o=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,o},w.exports=a},{"../utils":32,"./DataReader":18}],21:[function(l,w,c){var i=l("./ArrayReader");function a(e){i.call(this,e)}l("../utils").inherits(a,i),a.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,o},w.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(l,w,c){var i=l("../utils"),a=l("../support"),e=l("./ArrayReader"),o=l("./StringReader"),u=l("./NodeBufferReader"),h=l("./Uint8ArrayReader");w.exports=function(p){var _=i.getTypeOf(p);return i.checkSupport(_),_!=="string"||a.uint8array?_==="nodebuffer"?new u(p):a.uint8array?new h(i.transformTo("uint8array",p)):new e(i.transformTo("array",p)):new o(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,w,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,w,c){var i=l("./GenericWorker"),a=l("../utils");function e(o){i.call(this,"ConvertWorker to "+o),this.destType=o}a.inherits(e,i),e.prototype.processChunk=function(o){this.push({data:a.transformTo(this.destType,o.data),meta:o.meta})},w.exports=e},{"../utils":32,"./GenericWorker":28}],25:[function(l,w,c){var i=l("./GenericWorker"),a=l("../crc32");function e(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(e,i),e.prototype.processChunk=function(o){this.streamInfo.crc32=a(o.data,this.streamInfo.crc32||0),this.push(o)},w.exports=e},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,w,c){var i=l("../utils"),a=l("./GenericWorker");function e(o){a.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}i.inherits(e,a),e.prototype.processChunk=function(o){if(o){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+o.data.length}a.prototype.processChunk.call(this,o)},w.exports=e},{"../utils":32,"./GenericWorker":28}],27:[function(l,w,c){var i=l("../utils"),a=l("./GenericWorker");function e(o){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=i.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}i.inherits(e,a),e.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,u);break;case"uint8array":o=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":o=this.data.slice(this.index,u)}return this.index=u,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},w.exports=e},{"../utils":32,"./GenericWorker":28}],28:[function(l,w,c){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,e){return this._listeners[a].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,e){if(this._listeners[a])for(var o=0;o<this._listeners[a].length;o++)this._listeners[a][o].call(this,e)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var e=this;return a.on("data",function(o){e.processChunk(o)}),a.on("end",function(){e.end()}),a.on("error",function(o){e.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,e){return this.extraStreamInfo[a]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},w.exports=i},{}],29:[function(l,w,c){var i=l("../utils"),a=l("./ConvertWorker"),e=l("./GenericWorker"),o=l("../base64"),u=l("../support"),h=l("../external"),p=null;if(u.nodestream)try{p=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(g,s){return new h.Promise(function(m,d){var v=[],x=g._internalType,E=g._outputType,S=g._mimeType;g.on("data",function(D,N){v.push(D),s&&s(N)}).on("error",function(D){v=[],d(D)}).on("end",function(){try{var D=(function(N,P,R){switch(N){case"blob":return i.newBlob(i.transformTo("arraybuffer",P),R);case"base64":return o.encode(P);default:return i.transformTo(N,P)}})(E,(function(N,P){var R,$=0,J=null,b=0;for(R=0;R<P.length;R++)b+=P[R].length;switch(N){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(J=new Uint8Array(b),R=0;R<P.length;R++)J.set(P[R],$),$+=P[R].length;return J;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+N+"'")}})(x,v),S);m(D)}catch(N){d(N)}v=[]}).resume()})}function r(g,s,m){var d=s;switch(s){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=s,this._mimeType=m,i.checkSupport(d),this._worker=g.pipe(new a(d)),g.lock()}catch(v){this._worker=new e("error"),this._worker.error(v)}}r.prototype={accumulate:function(g){return _(this,g)},on:function(g,s){var m=this;return g==="data"?this._worker.on(g,function(d){s.call(m,d.data,d.meta)}):this._worker.on(g,function(){i.delay(s,arguments,m)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},g)}},w.exports=r},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,w,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var i=new ArrayBuffer(0);try{c.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),c.blob=a.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!l("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(l,w,c){for(var i=l("./utils"),a=l("./support"),e=l("./nodejsUtils"),o=l("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function p(){o.call(this,"utf-8 decode"),this.leftOver=null}function _(){o.call(this,"utf-8 encode")}c.utf8encode=function(r){return a.nodebuffer?e.newBufferFrom(r,"utf-8"):(function(g){var s,m,d,v,x,E=g.length,S=0;for(v=0;v<E;v++)(64512&(m=g.charCodeAt(v)))==55296&&v+1<E&&(64512&(d=g.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),v++),S+=m<128?1:m<2048?2:m<65536?3:4;for(s=a.uint8array?new Uint8Array(S):new Array(S),v=x=0;x<S;v++)(64512&(m=g.charCodeAt(v)))==55296&&v+1<E&&(64512&(d=g.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),v++),m<128?s[x++]=m:(m<2048?s[x++]=192|m>>>6:(m<65536?s[x++]=224|m>>>12:(s[x++]=240|m>>>18,s[x++]=128|m>>>12&63),s[x++]=128|m>>>6&63),s[x++]=128|63&m);return s})(r)},c.utf8decode=function(r){return a.nodebuffer?i.transformTo("nodebuffer",r).toString("utf-8"):(function(g){var s,m,d,v,x=g.length,E=new Array(2*x);for(s=m=0;s<x;)if((d=g[s++])<128)E[m++]=d;else if(4<(v=u[d]))E[m++]=65533,s+=v-1;else{for(d&=v===2?31:v===3?15:7;1<v&&s<x;)d=d<<6|63&g[s++],v--;1<v?E[m++]=65533:d<65536?E[m++]=d:(d-=65536,E[m++]=55296|d>>10&1023,E[m++]=56320|1023&d)}return E.length!==m&&(E.subarray?E=E.subarray(0,m):E.length=m),i.applyFromCharCode(E)})(r=i.transformTo(a.uint8array?"uint8array":"array",r))},i.inherits(p,o),p.prototype.processChunk=function(r){var g=i.transformTo(a.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var s=g;(g=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),g.set(s,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var m=(function(v,x){var E;for((x=x||v.length)>v.length&&(x=v.length),E=x-1;0<=E&&(192&v[E])==128;)E--;return E<0||E===0?x:E+u[v[E]]>x?E:x})(g),d=g;m!==g.length&&(a.uint8array?(d=g.subarray(0,m),this.leftOver=g.subarray(m,g.length)):(d=g.slice(0,m),this.leftOver=g.slice(m,g.length))),this.push({data:c.utf8decode(d),meta:r.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=p,i.inherits(_,o),_.prototype.processChunk=function(r){this.push({data:c.utf8encode(r.data),meta:r.meta})},c.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,w,c){var i=l("./support"),a=l("./base64"),e=l("./nodejsUtils"),o=l("./external");function u(s){return s}function h(s,m){for(var d=0;d<s.length;++d)m[d]=255&s.charCodeAt(d);return m}l("setimmediate"),c.newBlob=function(s,m){c.checkSupport("blob");try{return new Blob([s],{type:m})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(s),d.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(s,m,d){var v=[],x=0,E=s.length;if(E<=d)return String.fromCharCode.apply(null,s);for(;x<E;)m==="array"||m==="nodebuffer"?v.push(String.fromCharCode.apply(null,s.slice(x,Math.min(x+d,E)))):v.push(String.fromCharCode.apply(null,s.subarray(x,Math.min(x+d,E)))),x+=d;return v.join("")},stringifyByChar:function(s){for(var m="",d=0;d<s.length;d++)m+=String.fromCharCode(s[d]);return m},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,e.allocBuffer(1)).length===1}catch{return!1}})()}};function _(s){var m=65536,d=c.getTypeOf(s),v=!0;if(d==="uint8array"?v=p.applyCanBeUsed.uint8array:d==="nodebuffer"&&(v=p.applyCanBeUsed.nodebuffer),v)for(;1<m;)try{return p.stringifyByChunk(s,d,m)}catch{m=Math.floor(m/2)}return p.stringifyByChar(s)}function r(s,m){for(var d=0;d<s.length;d++)m[d]=s[d];return m}c.applyFromCharCode=_;var g={};g.string={string:u,array:function(s){return h(s,new Array(s.length))},arraybuffer:function(s){return g.string.uint8array(s).buffer},uint8array:function(s){return h(s,new Uint8Array(s.length))},nodebuffer:function(s){return h(s,e.allocBuffer(s.length))}},g.array={string:_,array:u,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return e.newBufferFrom(s)}},g.arraybuffer={string:function(s){return _(new Uint8Array(s))},array:function(s){return r(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:u,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return e.newBufferFrom(new Uint8Array(s))}},g.uint8array={string:_,array:function(s){return r(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:u,nodebuffer:function(s){return e.newBufferFrom(s)}},g.nodebuffer={string:_,array:function(s){return r(s,new Array(s.length))},arraybuffer:function(s){return g.nodebuffer.uint8array(s).buffer},uint8array:function(s){return r(s,new Uint8Array(s.length))},nodebuffer:u},c.transformTo=function(s,m){if(m=m||"",!s)return m;c.checkSupport(s);var d=c.getTypeOf(m);return g[d][s](m)},c.resolve=function(s){for(var m=s.split("/"),d=[],v=0;v<m.length;v++){var x=m[v];x==="."||x===""&&v!==0&&v!==m.length-1||(x===".."?d.pop():d.push(x))}return d.join("/")},c.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":i.nodebuffer&&e.isBuffer(s)?"nodebuffer":i.uint8array&&s instanceof Uint8Array?"uint8array":i.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(s){if(!i[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(s){var m,d,v="";for(d=0;d<(s||"").length;d++)v+="\\x"+((m=s.charCodeAt(d))<16?"0":"")+m.toString(16).toUpperCase();return v},c.delay=function(s,m,d){setImmediate(function(){s.apply(d||null,m||[])})},c.inherits=function(s,m){function d(){}d.prototype=m.prototype,s.prototype=new d},c.extend=function(){var s,m,d={};for(s=0;s<arguments.length;s++)for(m in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],m)&&d[m]===void 0&&(d[m]=arguments[s][m]);return d},c.prepareContent=function(s,m,d,v,x){return o.Promise.resolve(m).then(function(E){return i.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new o.Promise(function(S,D){var N=new FileReader;N.onload=function(P){S(P.target.result)},N.onerror=function(P){D(P.target.error)},N.readAsArrayBuffer(E)}):E}).then(function(E){var S=c.getTypeOf(E);return S?(S==="arraybuffer"?E=c.transformTo("uint8array",E):S==="string"&&(x?E=a.decode(E):d&&v!==!0&&(E=(function(D){return h(D,i.uint8array?new Uint8Array(D.length):new Array(D.length))})(E))),E):o.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,w,c){var i=l("./reader/readerFor"),a=l("./utils"),e=l("./signature"),o=l("./zipEntry"),u=l("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(_)+", expected "+a.pretty(p)+")")}},isSignature:function(p,_){var r=this.reader.index;this.reader.setIndex(p);var g=this.reader.readString(4)===_;return this.reader.setIndex(r),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),_=u.uint8array?"uint8array":"array",r=a.transformTo(_,p);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,_,r,g=this.zip64EndOfCentralSize-44;0<g;)p=this.reader.readInt(2),_=this.reader.readInt(4),r=this.reader.readData(_),this.zip64ExtensibleData[p]={id:p,length:_,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,_;for(p=0;p<this.files.length;p++)_=this.files[p],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(e.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(e.CENTRAL_FILE_HEADER);)(p=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,e.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var _=p;if(this.checkSignature(e.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,e.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var g=_-r;if(0<g)this.isSignature(_,e.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(p){this.reader=i(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},w.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,w,c){var i=l("./reader/readerFor"),a=l("./utils"),e=l("./compressedObject"),o=l("./crc32"),u=l("./utf8"),h=l("./compressions"),p=l("./support");function _(r,g){this.options=r,this.loadOptions=g}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(r){var g,s;if(r.skip(22),this.fileNameLength=r.readInt(2),s=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=(function(m){for(var d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&h[d].magic===m)return h[d];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new e(this.compressedSize,this.uncompressedSize,this.crc32,g,r.readData(this.compressedSize))},readCentralPart:function(r){this.versionMadeBy=r.readInt(2),r.skip(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4);var g=r.readInt(2);if(this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");r.skip(g),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),r==0&&(this.dosPermissions=63&this.externalFileAttributes),r==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var r=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=r.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=r.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=r.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=r.readInt(4))}},readExtraFields:function(r){var g,s,m,d=r.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});r.index+4<d;)g=r.readInt(2),s=r.readInt(2),m=r.readData(s),this.extraFields[g]={id:g,length:s,value:m};r.setIndex(d)},handleUTF8:function(){var r=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var s=a.transformTo(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var d=a.transformTo(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var r=this.extraFields[28789];if(r){var g=i(r.value);return g.readInt(1)!==1||o(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(r.length-5))}return null},findExtraFieldUnicodeComment:function(){var r=this.extraFields[25461];if(r){var g=i(r.value);return g.readInt(1)!==1||o(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(r.length-5))}return null}},w.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,w,c){function i(g,s,m){this.name=g,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=s,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var a=l("./stream/StreamHelper"),e=l("./stream/DataWorker"),o=l("./utf8"),u=l("./compressedObject"),h=l("./stream/GenericWorker");i.prototype={internalStream:function(g){var s=null,m="string";try{if(!g)throw new Error("No output type specified.");var d=(m=g.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),s=this._decompressWorker();var v=!this._dataBinary;v&&!d&&(s=s.pipe(new o.Utf8EncodeWorker)),!v&&d&&(s=s.pipe(new o.Utf8DecodeWorker))}catch(x){(s=new h("error")).error(x)}return new a(s,m,"")},async:function(g,s){return this.internalStream(g).accumulate(s)},nodeStream:function(g,s){return this.internalStream(g||"nodebuffer").toNodejsStream(s)},_compressWorker:function(g,s){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(m,g,s)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new e(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},r=0;r<p.length;r++)i.prototype[p[r]]=_;w.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,w,c){(function(i){var a,e,o=i.MutationObserver||i.WebKitMutationObserver;if(o){var u=0,h=new o(g),p=i.document.createTextNode("");h.observe(p,{characterData:!0}),a=function(){p.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var s=i.document.createElement("script");s.onreadystatechange=function(){g(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},i.document.documentElement.appendChild(s)}:function(){setTimeout(g,0)};else{var _=new i.MessageChannel;_.port1.onmessage=g,a=function(){_.port2.postMessage(0)}}var r=[];function g(){var s,m;e=!0;for(var d=r.length;d;){for(m=r,r=[],s=-1;++s<d;)m[s]();d=r.length}e=!1}w.exports=function(s){r.push(s)!==1||e||a()}}).call(this,typeof vt<"u"?vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,w,c){var i=l("immediate");function a(){}var e={},o=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function p(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,d!==a&&s(this,d)}function _(d,v,x){this.promise=d,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function r(d,v,x){i(function(){var E;try{E=v(x)}catch(S){return e.reject(d,S)}E===d?e.reject(d,new TypeError("Cannot resolve promise with itself")):e.resolve(d,E)})}function g(d){var v=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof v=="function")return function(){v.apply(d,arguments)}}function s(d,v){var x=!1;function E(N){x||(x=!0,e.reject(d,N))}function S(N){x||(x=!0,e.resolve(d,N))}var D=m(function(){v(S,E)});D.status==="error"&&E(D.value)}function m(d,v){var x={};try{x.value=d(v),x.status="success"}catch(E){x.status="error",x.value=E}return x}(w.exports=p).prototype.finally=function(d){if(typeof d!="function")return this;var v=this.constructor;return this.then(function(x){return v.resolve(d()).then(function(){return x})},function(x){return v.resolve(d()).then(function(){throw x})})},p.prototype.catch=function(d){return this.then(null,d)},p.prototype.then=function(d,v){if(typeof d!="function"&&this.state===u||typeof v!="function"&&this.state===o)return this;var x=new this.constructor(a);return this.state!==h?r(x,this.state===u?d:v,this.outcome):this.queue.push(new _(x,d,v)),x},_.prototype.callFulfilled=function(d){e.resolve(this.promise,d)},_.prototype.otherCallFulfilled=function(d){r(this.promise,this.onFulfilled,d)},_.prototype.callRejected=function(d){e.reject(this.promise,d)},_.prototype.otherCallRejected=function(d){r(this.promise,this.onRejected,d)},e.resolve=function(d,v){var x=m(g,v);if(x.status==="error")return e.reject(d,x.value);var E=x.value;if(E)s(d,E);else{d.state=u,d.outcome=v;for(var S=-1,D=d.queue.length;++S<D;)d.queue[S].callFulfilled(v)}return d},e.reject=function(d,v){d.state=o,d.outcome=v;for(var x=-1,E=d.queue.length;++x<E;)d.queue[x].callRejected(v);return d},p.resolve=function(d){return d instanceof this?d:e.resolve(new this(a),d)},p.reject=function(d){var v=new this(a);return e.reject(v,d)},p.all=function(d){var v=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=d.length,E=!1;if(!x)return this.resolve([]);for(var S=new Array(x),D=0,N=-1,P=new this(a);++N<x;)R(d[N],N);return P;function R($,J){v.resolve($).then(function(b){S[J]=b,++D!==x||E||(E=!0,e.resolve(P,S))},function(b){E||(E=!0,e.reject(P,b))})}},p.race=function(d){var v=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=d.length,E=!1;if(!x)return this.resolve([]);for(var S=-1,D=new this(a);++S<x;)N=d[S],v.resolve(N).then(function(P){E||(E=!0,e.resolve(D,P))},function(P){E||(E=!0,e.reject(D,P))});var N;return D}},{immediate:36}],38:[function(l,w,c){var i={};(0,l("./lib/utils/common").assign)(i,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),w.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,w,c){var i=l("./zlib/deflate"),a=l("./utils/common"),e=l("./utils/strings"),o=l("./zlib/messages"),u=l("./zlib/zstream"),h=Object.prototype.toString,p=0,_=-1,r=0,g=8;function s(d){if(!(this instanceof s))return new s(d);this.options=a.assign({level:_,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:r,to:""},d||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(x!==p)throw new Error(o[x]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var E;if(E=typeof v.dictionary=="string"?e.string2buf(v.dictionary):h.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(x=i.deflateSetDictionary(this.strm,E))!==p)throw new Error(o[x]);this._dict_set=!0}}function m(d,v){var x=new s(v);if(x.push(d,!0),x.err)throw x.msg||o[x.err];return x.result}s.prototype.push=function(d,v){var x,E,S=this.strm,D=this.options.chunkSize;if(this.ended)return!1;E=v===~~v?v:v===!0?4:0,typeof d=="string"?S.input=e.string2buf(d):h.call(d)==="[object ArrayBuffer]"?S.input=new Uint8Array(d):S.input=d,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(D),S.next_out=0,S.avail_out=D),(x=i.deflate(S,E))!==1&&x!==p)return this.onEnd(x),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(e.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&x!==1);return E===4?(x=i.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===p):E!==2||(this.onEnd(p),!(S.avail_out=0))},s.prototype.onData=function(d){this.chunks.push(d)},s.prototype.onEnd=function(d){d===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},c.Deflate=s,c.deflate=m,c.deflateRaw=function(d,v){return(v=v||{}).raw=!0,m(d,v)},c.gzip=function(d,v){return(v=v||{}).gzip=!0,m(d,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,w,c){var i=l("./zlib/inflate"),a=l("./utils/common"),e=l("./utils/strings"),o=l("./zlib/constants"),u=l("./zlib/messages"),h=l("./zlib/zstream"),p=l("./zlib/gzheader"),_=Object.prototype.toString;function r(s){if(!(this instanceof r))return new r(s);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},s||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||s&&s.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&(15&m.windowBits)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,m.windowBits);if(d!==o.Z_OK)throw new Error(u[d]);this.header=new p,i.inflateGetHeader(this.strm,this.header)}function g(s,m){var d=new r(m);if(d.push(s,!0),d.err)throw d.msg||u[d.err];return d.result}r.prototype.push=function(s,m){var d,v,x,E,S,D,N=this.strm,P=this.options.chunkSize,R=this.options.dictionary,$=!1;if(this.ended)return!1;v=m===~~m?m:m===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof s=="string"?N.input=e.binstring2buf(s):_.call(s)==="[object ArrayBuffer]"?N.input=new Uint8Array(s):N.input=s,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(P),N.next_out=0,N.avail_out=P),(d=i.inflate(N,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&R&&(D=typeof R=="string"?e.string2buf(R):_.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,d=i.inflateSetDictionary(this.strm,D)),d===o.Z_BUF_ERROR&&$===!0&&(d=o.Z_OK,$=!1),d!==o.Z_STREAM_END&&d!==o.Z_OK)return this.onEnd(d),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&d!==o.Z_STREAM_END&&(N.avail_in!==0||v!==o.Z_FINISH&&v!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=e.utf8border(N.output,N.next_out),E=N.next_out-x,S=e.buf2string(N.output,x),N.next_out=E,N.avail_out=P-E,E&&a.arraySet(N.output,N.output,x,E,0),this.onData(S)):this.onData(a.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&($=!0)}while((0<N.avail_in||N.avail_out===0)&&d!==o.Z_STREAM_END);return d===o.Z_STREAM_END&&(v=o.Z_FINISH),v===o.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===o.Z_OK):v!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(N.avail_out=0))},r.prototype.onData=function(s){this.chunks.push(s)},r.prototype.onEnd=function(s){s===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},c.Inflate=r,c.inflate=g,c.inflateRaw=function(s,m){return(m=m||{}).raw=!0,g(s,m)},c.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,w,c){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(o){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(o[p]=h[p])}}return o},c.shrinkBuf=function(o,u){return o.length===u?o:o.subarray?o.subarray(0,u):(o.length=u,o)};var a={arraySet:function(o,u,h,p,_){if(u.subarray&&o.subarray)o.set(u.subarray(h,h+p),_);else for(var r=0;r<p;r++)o[_+r]=u[h+r]},flattenChunks:function(o){var u,h,p,_,r,g;for(u=p=0,h=o.length;u<h;u++)p+=o[u].length;for(g=new Uint8Array(p),u=_=0,h=o.length;u<h;u++)r=o[u],g.set(r,_),_+=r.length;return g}},e={arraySet:function(o,u,h,p,_){for(var r=0;r<p;r++)o[_+r]=u[h+r]},flattenChunks:function(o){return[].concat.apply([],o)}};c.setTyped=function(o){o?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,a)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,e))},c.setTyped(i)},{}],42:[function(l,w,c){var i=l("./common"),a=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}for(var o=new i.Buf8(256),u=0;u<256;u++)o[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(p,_){if(_<65537&&(p.subarray&&e||!p.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(p,_));for(var r="",g=0;g<_;g++)r+=String.fromCharCode(p[g]);return r}o[254]=o[254]=1,c.string2buf=function(p){var _,r,g,s,m,d=p.length,v=0;for(s=0;s<d;s++)(64512&(r=p.charCodeAt(s)))==55296&&s+1<d&&(64512&(g=p.charCodeAt(s+1)))==56320&&(r=65536+(r-55296<<10)+(g-56320),s++),v+=r<128?1:r<2048?2:r<65536?3:4;for(_=new i.Buf8(v),s=m=0;m<v;s++)(64512&(r=p.charCodeAt(s)))==55296&&s+1<d&&(64512&(g=p.charCodeAt(s+1)))==56320&&(r=65536+(r-55296<<10)+(g-56320),s++),r<128?_[m++]=r:(r<2048?_[m++]=192|r>>>6:(r<65536?_[m++]=224|r>>>12:(_[m++]=240|r>>>18,_[m++]=128|r>>>12&63),_[m++]=128|r>>>6&63),_[m++]=128|63&r);return _},c.buf2binstring=function(p){return h(p,p.length)},c.binstring2buf=function(p){for(var _=new i.Buf8(p.length),r=0,g=_.length;r<g;r++)_[r]=p.charCodeAt(r);return _},c.buf2string=function(p,_){var r,g,s,m,d=_||p.length,v=new Array(2*d);for(r=g=0;r<d;)if((s=p[r++])<128)v[g++]=s;else if(4<(m=o[s]))v[g++]=65533,r+=m-1;else{for(s&=m===2?31:m===3?15:7;1<m&&r<d;)s=s<<6|63&p[r++],m--;1<m?v[g++]=65533:s<65536?v[g++]=s:(s-=65536,v[g++]=55296|s>>10&1023,v[g++]=56320|1023&s)}return h(v,g)},c.utf8border=function(p,_){var r;for((_=_||p.length)>p.length&&(_=p.length),r=_-1;0<=r&&(192&p[r])==128;)r--;return r<0||r===0?_:r+o[p[r]]>_?r:_}},{"./common":41}],43:[function(l,w,c){w.exports=function(i,a,e,o){for(var u=65535&i|0,h=i>>>16&65535|0,p=0;e!==0;){for(e-=p=2e3<e?2e3:e;h=h+(u=u+a[o++]|0)|0,--p;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(l,w,c){w.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,w,c){var i=(function(){for(var a,e=[],o=0;o<256;o++){a=o;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;e[o]=a}return e})();w.exports=function(a,e,o,u){var h=i,p=u+o;a^=-1;for(var _=u;_<p;_++)a=a>>>8^h[255&(a^e[_])];return-1^a}},{}],46:[function(l,w,c){var i,a=l("../utils/common"),e=l("./trees"),o=l("./adler32"),u=l("./crc32"),h=l("./messages"),p=0,_=4,r=0,g=-2,s=-1,m=4,d=2,v=8,x=9,E=286,S=30,D=19,N=2*E+1,P=15,R=3,$=258,J=$+R+1,b=42,F=113,n=1,L=2,tt=3,M=4;function et(t,O){return t.msg=h[O],O}function Z(t){return(t<<1)-(4<t?9:0)}function Q(t){for(var O=t.length;0<=--O;)t[O]=0}function B(t){var O=t.state,T=O.pending;T>t.avail_out&&(T=t.avail_out),T!==0&&(a.arraySet(t.output,O.pending_buf,O.pending_out,T,t.next_out),t.next_out+=T,O.pending_out+=T,t.total_out+=T,t.avail_out-=T,O.pending-=T,O.pending===0&&(O.pending_out=0))}function A(t,O){e._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,O),t.block_start=t.strstart,B(t.strm)}function V(t,O){t.pending_buf[t.pending++]=O}function q(t,O){t.pending_buf[t.pending++]=O>>>8&255,t.pending_buf[t.pending++]=255&O}function X(t,O){var T,y,f=t.max_chain_length,k=t.strstart,U=t.prev_length,j=t.nice_match,z=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,W=t.window,K=t.w_mask,H=t.prev,Y=t.strstart+$,at=W[k+U-1],rt=W[k+U];t.prev_length>=t.good_match&&(f>>=2),j>t.lookahead&&(j=t.lookahead);do if(W[(T=O)+U]===rt&&W[T+U-1]===at&&W[T]===W[k]&&W[++T]===W[k+1]){k+=2,T++;do;while(W[++k]===W[++T]&&W[++k]===W[++T]&&W[++k]===W[++T]&&W[++k]===W[++T]&&W[++k]===W[++T]&&W[++k]===W[++T]&&W[++k]===W[++T]&&W[++k]===W[++T]&&k<Y);if(y=$-(Y-k),k=Y-$,U<y){if(t.match_start=O,j<=(U=y))break;at=W[k+U-1],rt=W[k+U]}}while((O=H[O&K])>z&&--f!=0);return U<=t.lookahead?U:t.lookahead}function lt(t){var O,T,y,f,k,U,j,z,W,K,H=t.w_size;do{if(f=t.window_size-t.lookahead-t.strstart,t.strstart>=H+(H-J)){for(a.arraySet(t.window,t.window,H,H,0),t.match_start-=H,t.strstart-=H,t.block_start-=H,O=T=t.hash_size;y=t.head[--O],t.head[O]=H<=y?y-H:0,--T;);for(O=T=H;y=t.prev[--O],t.prev[O]=H<=y?y-H:0,--T;);f+=H}if(t.strm.avail_in===0)break;if(U=t.strm,j=t.window,z=t.strstart+t.lookahead,W=f,K=void 0,K=U.avail_in,W<K&&(K=W),T=K===0?0:(U.avail_in-=K,a.arraySet(j,U.input,U.next_in,K,z),U.state.wrap===1?U.adler=o(U.adler,j,K,z):U.state.wrap===2&&(U.adler=u(U.adler,j,K,z)),U.next_in+=K,U.total_in+=K,K),t.lookahead+=T,t.lookahead+t.insert>=R)for(k=t.strstart-t.insert,t.ins_h=t.window[k],t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+R-1])&t.hash_mask,t.prev[k&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=k,k++,t.insert--,!(t.lookahead+t.insert<R)););}while(t.lookahead<J&&t.strm.avail_in!==0)}function ht(t,O){for(var T,y;;){if(t.lookahead<J){if(lt(t),t.lookahead<J&&O===p)return n;if(t.lookahead===0)break}if(T=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),T!==0&&t.strstart-T<=t.w_size-J&&(t.match_length=X(t,T)),t.match_length>=R)if(y=e._tr_tally(t,t.strstart-t.match_start,t.match_length-R),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=R){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else y=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(y&&(A(t,!1),t.strm.avail_out===0))return n}return t.insert=t.strstart<R-1?t.strstart:R-1,O===_?(A(t,!0),t.strm.avail_out===0?tt:M):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?n:L}function nt(t,O){for(var T,y,f;;){if(t.lookahead<J){if(lt(t),t.lookahead<J&&O===p)return n;if(t.lookahead===0)break}if(T=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=R-1,T!==0&&t.prev_length<t.max_lazy_match&&t.strstart-T<=t.w_size-J&&(t.match_length=X(t,T),t.match_length<=5&&(t.strategy===1||t.match_length===R&&4096<t.strstart-t.match_start)&&(t.match_length=R-1)),t.prev_length>=R&&t.match_length<=t.prev_length){for(f=t.strstart+t.lookahead-R,y=e._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-R),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=f&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=R-1,t.strstart++,y&&(A(t,!1),t.strm.avail_out===0))return n}else if(t.match_available){if((y=e._tr_tally(t,0,t.window[t.strstart-1]))&&A(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return n}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(y=e._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<R-1?t.strstart:R-1,O===_?(A(t,!0),t.strm.avail_out===0?tt:M):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?n:L}function it(t,O,T,y,f){this.good_length=t,this.max_lazy=O,this.nice_length=T,this.max_chain=y,this.func=f}function dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*N),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*E+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(t){var O;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=d,(O=t.state).pending=0,O.pending_out=0,O.wrap<0&&(O.wrap=-O.wrap),O.status=O.wrap?b:F,t.adler=O.wrap===2?0:1,O.last_flush=p,e._tr_init(O),r):et(t,g)}function gt(t){var O=ct(t);return O===r&&(function(T){T.window_size=2*T.w_size,Q(T.head),T.max_lazy_match=i[T.level].max_lazy,T.good_match=i[T.level].good_length,T.nice_match=i[T.level].nice_length,T.max_chain_length=i[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=R-1,T.match_available=0,T.ins_h=0})(t.state),O}function mt(t,O,T,y,f,k){if(!t)return g;var U=1;if(O===s&&(O=6),y<0?(U=0,y=-y):15<y&&(U=2,y-=16),f<1||x<f||T!==v||y<8||15<y||O<0||9<O||k<0||m<k)return et(t,g);y===8&&(y=9);var j=new dt;return(t.state=j).strm=t,j.wrap=U,j.gzhead=null,j.w_bits=y,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=f+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+R-1)/R),j.window=new a.Buf8(2*j.w_size),j.head=new a.Buf16(j.hash_size),j.prev=new a.Buf16(j.w_size),j.lit_bufsize=1<<f+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new a.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=O,j.strategy=k,j.method=T,gt(t)}i=[new it(0,0,0,0,function(t,O){var T=65535;for(T>t.pending_buf_size-5&&(T=t.pending_buf_size-5);;){if(t.lookahead<=1){if(lt(t),t.lookahead===0&&O===p)return n;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var y=t.block_start+T;if((t.strstart===0||t.strstart>=y)&&(t.lookahead=t.strstart-y,t.strstart=y,A(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-J&&(A(t,!1),t.strm.avail_out===0))return n}return t.insert=0,O===_?(A(t,!0),t.strm.avail_out===0?tt:M):(t.strstart>t.block_start&&(A(t,!1),t.strm.avail_out),n)}),new it(4,4,8,4,ht),new it(4,5,16,8,ht),new it(4,6,32,32,ht),new it(4,4,16,16,nt),new it(8,16,32,32,nt),new it(8,16,128,128,nt),new it(8,32,128,256,nt),new it(32,128,258,1024,nt),new it(32,258,258,4096,nt)],c.deflateInit=function(t,O){return mt(t,O,v,15,8,0)},c.deflateInit2=mt,c.deflateReset=gt,c.deflateResetKeep=ct,c.deflateSetHeader=function(t,O){return t&&t.state?t.state.wrap!==2?g:(t.state.gzhead=O,r):g},c.deflate=function(t,O){var T,y,f,k;if(!t||!t.state||5<O||O<0)return t?et(t,g):g;if(y=t.state,!t.output||!t.input&&t.avail_in!==0||y.status===666&&O!==_)return et(t,t.avail_out===0?-5:g);if(y.strm=t,T=y.last_flush,y.last_flush=O,y.status===b)if(y.wrap===2)t.adler=0,V(y,31),V(y,139),V(y,8),y.gzhead?(V(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),V(y,255&y.gzhead.time),V(y,y.gzhead.time>>8&255),V(y,y.gzhead.time>>16&255),V(y,y.gzhead.time>>24&255),V(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),V(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(V(y,255&y.gzhead.extra.length),V(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(t.adler=u(t.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(V(y,0),V(y,0),V(y,0),V(y,0),V(y,0),V(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),V(y,3),y.status=F);else{var U=v+(y.w_bits-8<<4)<<8;U|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(U|=32),U+=31-U%31,y.status=F,q(y,U),y.strstart!==0&&(q(y,t.adler>>>16),q(y,65535&t.adler)),t.adler=1}if(y.status===69)if(y.gzhead.extra){for(f=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>f&&(t.adler=u(t.adler,y.pending_buf,y.pending-f,f)),B(t),f=y.pending,y.pending!==y.pending_buf_size));)V(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>f&&(t.adler=u(t.adler,y.pending_buf,y.pending-f,f)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){f=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>f&&(t.adler=u(t.adler,y.pending_buf,y.pending-f,f)),B(t),f=y.pending,y.pending===y.pending_buf_size)){k=1;break}k=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,V(y,k)}while(k!==0);y.gzhead.hcrc&&y.pending>f&&(t.adler=u(t.adler,y.pending_buf,y.pending-f,f)),k===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){f=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>f&&(t.adler=u(t.adler,y.pending_buf,y.pending-f,f)),B(t),f=y.pending,y.pending===y.pending_buf_size)){k=1;break}k=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,V(y,k)}while(k!==0);y.gzhead.hcrc&&y.pending>f&&(t.adler=u(t.adler,y.pending_buf,y.pending-f,f)),k===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&B(t),y.pending+2<=y.pending_buf_size&&(V(y,255&t.adler),V(y,t.adler>>8&255),t.adler=0,y.status=F)):y.status=F),y.pending!==0){if(B(t),t.avail_out===0)return y.last_flush=-1,r}else if(t.avail_in===0&&Z(O)<=Z(T)&&O!==_)return et(t,-5);if(y.status===666&&t.avail_in!==0)return et(t,-5);if(t.avail_in!==0||y.lookahead!==0||O!==p&&y.status!==666){var j=y.strategy===2?(function(z,W){for(var K;;){if(z.lookahead===0&&(lt(z),z.lookahead===0)){if(W===p)return n;break}if(z.match_length=0,K=e._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,K&&(A(z,!1),z.strm.avail_out===0))return n}return z.insert=0,W===_?(A(z,!0),z.strm.avail_out===0?tt:M):z.last_lit&&(A(z,!1),z.strm.avail_out===0)?n:L})(y,O):y.strategy===3?(function(z,W){for(var K,H,Y,at,rt=z.window;;){if(z.lookahead<=$){if(lt(z),z.lookahead<=$&&W===p)return n;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=R&&0<z.strstart&&(H=rt[Y=z.strstart-1])===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]){at=z.strstart+$;do;while(H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&Y<at);z.match_length=$-(at-Y),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=R?(K=e._tr_tally(z,1,z.match_length-R),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(K=e._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),K&&(A(z,!1),z.strm.avail_out===0))return n}return z.insert=0,W===_?(A(z,!0),z.strm.avail_out===0?tt:M):z.last_lit&&(A(z,!1),z.strm.avail_out===0)?n:L})(y,O):i[y.level].func(y,O);if(j!==tt&&j!==M||(y.status=666),j===n||j===tt)return t.avail_out===0&&(y.last_flush=-1),r;if(j===L&&(O===1?e._tr_align(y):O!==5&&(e._tr_stored_block(y,0,0,!1),O===3&&(Q(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),B(t),t.avail_out===0))return y.last_flush=-1,r}return O!==_?r:y.wrap<=0?1:(y.wrap===2?(V(y,255&t.adler),V(y,t.adler>>8&255),V(y,t.adler>>16&255),V(y,t.adler>>24&255),V(y,255&t.total_in),V(y,t.total_in>>8&255),V(y,t.total_in>>16&255),V(y,t.total_in>>24&255)):(q(y,t.adler>>>16),q(y,65535&t.adler)),B(t),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?r:1)},c.deflateEnd=function(t){var O;return t&&t.state?(O=t.state.status)!==b&&O!==69&&O!==73&&O!==91&&O!==103&&O!==F&&O!==666?et(t,g):(t.state=null,O===F?et(t,-3):r):g},c.deflateSetDictionary=function(t,O){var T,y,f,k,U,j,z,W,K=O.length;if(!t||!t.state||(k=(T=t.state).wrap)===2||k===1&&T.status!==b||T.lookahead)return g;for(k===1&&(t.adler=o(t.adler,O,K,0)),T.wrap=0,K>=T.w_size&&(k===0&&(Q(T.head),T.strstart=0,T.block_start=0,T.insert=0),W=new a.Buf8(T.w_size),a.arraySet(W,O,K-T.w_size,T.w_size,0),O=W,K=T.w_size),U=t.avail_in,j=t.next_in,z=t.input,t.avail_in=K,t.next_in=0,t.input=O,lt(T);T.lookahead>=R;){for(y=T.strstart,f=T.lookahead-(R-1);T.ins_h=(T.ins_h<<T.hash_shift^T.window[y+R-1])&T.hash_mask,T.prev[y&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=y,y++,--f;);T.strstart=y,T.lookahead=R-1,lt(T)}return T.strstart+=T.lookahead,T.block_start=T.strstart,T.insert=T.lookahead,T.lookahead=0,T.match_length=T.prev_length=R-1,T.match_available=0,t.next_in=j,t.input=z,t.avail_in=U,T.wrap=k,r},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,w,c){w.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,w,c){w.exports=function(i,a){var e,o,u,h,p,_,r,g,s,m,d,v,x,E,S,D,N,P,R,$,J,b,F,n,L;e=i.state,o=i.next_in,n=i.input,u=o+(i.avail_in-5),h=i.next_out,L=i.output,p=h-(a-i.avail_out),_=h+(i.avail_out-257),r=e.dmax,g=e.wsize,s=e.whave,m=e.wnext,d=e.window,v=e.hold,x=e.bits,E=e.lencode,S=e.distcode,D=(1<<e.lenbits)-1,N=(1<<e.distbits)-1;t:do{x<15&&(v+=n[o++]<<x,x+=8,v+=n[o++]<<x,x+=8),P=E[v&D];e:for(;;){if(v>>>=R=P>>>24,x-=R,(R=P>>>16&255)===0)L[h++]=65535&P;else{if(!(16&R)){if((64&R)==0){P=E[(65535&P)+(v&(1<<R)-1)];continue e}if(32&R){e.mode=12;break t}i.msg="invalid literal/length code",e.mode=30;break t}$=65535&P,(R&=15)&&(x<R&&(v+=n[o++]<<x,x+=8),$+=v&(1<<R)-1,v>>>=R,x-=R),x<15&&(v+=n[o++]<<x,x+=8,v+=n[o++]<<x,x+=8),P=S[v&N];n:for(;;){if(v>>>=R=P>>>24,x-=R,!(16&(R=P>>>16&255))){if((64&R)==0){P=S[(65535&P)+(v&(1<<R)-1)];continue n}i.msg="invalid distance code",e.mode=30;break t}if(J=65535&P,x<(R&=15)&&(v+=n[o++]<<x,(x+=8)<R&&(v+=n[o++]<<x,x+=8)),r<(J+=v&(1<<R)-1)){i.msg="invalid distance too far back",e.mode=30;break t}if(v>>>=R,x-=R,(R=h-p)<J){if(s<(R=J-R)&&e.sane){i.msg="invalid distance too far back",e.mode=30;break t}if(F=d,(b=0)===m){if(b+=g-R,R<$){for($-=R;L[h++]=d[b++],--R;);b=h-J,F=L}}else if(m<R){if(b+=g+m-R,(R-=m)<$){for($-=R;L[h++]=d[b++],--R;);if(b=0,m<$){for($-=R=m;L[h++]=d[b++],--R;);b=h-J,F=L}}}else if(b+=m-R,R<$){for($-=R;L[h++]=d[b++],--R;);b=h-J,F=L}for(;2<$;)L[h++]=F[b++],L[h++]=F[b++],L[h++]=F[b++],$-=3;$&&(L[h++]=F[b++],1<$&&(L[h++]=F[b++]))}else{for(b=h-J;L[h++]=L[b++],L[h++]=L[b++],L[h++]=L[b++],2<($-=3););$&&(L[h++]=L[b++],1<$&&(L[h++]=L[b++]))}break}}break}}while(o<u&&h<_);o-=$=x>>3,v&=(1<<(x-=$<<3))-1,i.next_in=o,i.next_out=h,i.avail_in=o<u?u-o+5:5-(o-u),i.avail_out=h<_?_-h+257:257-(h-_),e.hold=v,e.bits=x}},{}],49:[function(l,w,c){var i=l("../utils/common"),a=l("./adler32"),e=l("./crc32"),o=l("./inffast"),u=l("./inftrees"),h=1,p=2,_=0,r=-2,g=1,s=852,m=592;function d(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(b){var F;return b&&b.state?(F=b.state,b.total_in=b.total_out=F.total=0,b.msg="",F.wrap&&(b.adler=1&F.wrap),F.mode=g,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new i.Buf32(s),F.distcode=F.distdyn=new i.Buf32(m),F.sane=1,F.back=-1,_):r}function E(b){var F;return b&&b.state?((F=b.state).wsize=0,F.whave=0,F.wnext=0,x(b)):r}function S(b,F){var n,L;return b&&b.state?(L=b.state,F<0?(n=0,F=-F):(n=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?r:(L.window!==null&&L.wbits!==F&&(L.window=null),L.wrap=n,L.wbits=F,E(b))):r}function D(b,F){var n,L;return b?(L=new v,(b.state=L).window=null,(n=S(b,F))!==_&&(b.state=null),n):r}var N,P,R=!0;function $(b){if(R){var F;for(N=new i.Buf32(512),P=new i.Buf32(32),F=0;F<144;)b.lens[F++]=8;for(;F<256;)b.lens[F++]=9;for(;F<280;)b.lens[F++]=7;for(;F<288;)b.lens[F++]=8;for(u(h,b.lens,0,288,N,0,b.work,{bits:9}),F=0;F<32;)b.lens[F++]=5;u(p,b.lens,0,32,P,0,b.work,{bits:5}),R=!1}b.lencode=N,b.lenbits=9,b.distcode=P,b.distbits=5}function J(b,F,n,L){var tt,M=b.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new i.Buf8(M.wsize)),L>=M.wsize?(i.arraySet(M.window,F,n-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(L<(tt=M.wsize-M.wnext)&&(tt=L),i.arraySet(M.window,F,n-L,tt,M.wnext),(L-=tt)?(i.arraySet(M.window,F,n-L,L,0),M.wnext=L,M.whave=M.wsize):(M.wnext+=tt,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=tt))),0}c.inflateReset=E,c.inflateReset2=S,c.inflateResetKeep=x,c.inflateInit=function(b){return D(b,15)},c.inflateInit2=D,c.inflate=function(b,F){var n,L,tt,M,et,Z,Q,B,A,V,q,X,lt,ht,nt,it,dt,ct,gt,mt,t,O,T,y,f=0,k=new i.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return r;(n=b.state).mode===12&&(n.mode=13),et=b.next_out,tt=b.output,Q=b.avail_out,M=b.next_in,L=b.input,Z=b.avail_in,B=n.hold,A=n.bits,V=Z,q=Q,O=_;t:for(;;)switch(n.mode){case g:if(n.wrap===0){n.mode=13;break}for(;A<16;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if(2&n.wrap&&B===35615){k[n.check=0]=255&B,k[1]=B>>>8&255,n.check=e(n.check,k,2,0),A=B=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&B)<<8)+(B>>8))%31){b.msg="incorrect header check",n.mode=30;break}if((15&B)!=8){b.msg="unknown compression method",n.mode=30;break}if(A-=4,t=8+(15&(B>>>=4)),n.wbits===0)n.wbits=t;else if(t>n.wbits){b.msg="invalid window size",n.mode=30;break}n.dmax=1<<t,b.adler=n.check=1,n.mode=512&B?10:12,A=B=0;break;case 2:for(;A<16;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if(n.flags=B,(255&n.flags)!=8){b.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){b.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=B>>8&1),512&n.flags&&(k[0]=255&B,k[1]=B>>>8&255,n.check=e(n.check,k,2,0)),A=B=0,n.mode=3;case 3:for(;A<32;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}n.head&&(n.head.time=B),512&n.flags&&(k[0]=255&B,k[1]=B>>>8&255,k[2]=B>>>16&255,k[3]=B>>>24&255,n.check=e(n.check,k,4,0)),A=B=0,n.mode=4;case 4:for(;A<16;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}n.head&&(n.head.xflags=255&B,n.head.os=B>>8),512&n.flags&&(k[0]=255&B,k[1]=B>>>8&255,n.check=e(n.check,k,2,0)),A=B=0,n.mode=5;case 5:if(1024&n.flags){for(;A<16;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}n.length=B,n.head&&(n.head.extra_len=B),512&n.flags&&(k[0]=255&B,k[1]=B>>>8&255,n.check=e(n.check,k,2,0)),A=B=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(Z<(X=n.length)&&(X=Z),X&&(n.head&&(t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,L,M,X,t)),512&n.flags&&(n.check=e(n.check,L,X,M)),Z-=X,M+=X,n.length-=X),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(Z===0)break t;for(X=0;t=L[M+X++],n.head&&t&&n.length<65536&&(n.head.name+=String.fromCharCode(t)),t&&X<Z;);if(512&n.flags&&(n.check=e(n.check,L,X,M)),Z-=X,M+=X,t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(Z===0)break t;for(X=0;t=L[M+X++],n.head&&t&&n.length<65536&&(n.head.comment+=String.fromCharCode(t)),t&&X<Z;);if(512&n.flags&&(n.check=e(n.check,L,X,M)),Z-=X,M+=X,t)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;A<16;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if(B!==(65535&n.check)){b.msg="header crc mismatch",n.mode=30;break}A=B=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),b.adler=n.check=0,n.mode=12;break;case 10:for(;A<32;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}b.adler=n.check=d(B),A=B=0,n.mode=11;case 11:if(n.havedict===0)return b.next_out=et,b.avail_out=Q,b.next_in=M,b.avail_in=Z,n.hold=B,n.bits=A,2;b.adler=n.check=1,n.mode=12;case 12:if(F===5||F===6)break t;case 13:if(n.last){B>>>=7&A,A-=7&A,n.mode=27;break}for(;A<3;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}switch(n.last=1&B,A-=1,3&(B>>>=1)){case 0:n.mode=14;break;case 1:if($(n),n.mode=20,F!==6)break;B>>>=2,A-=2;break t;case 2:n.mode=17;break;case 3:b.msg="invalid block type",n.mode=30}B>>>=2,A-=2;break;case 14:for(B>>>=7&A,A-=7&A;A<32;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if((65535&B)!=(B>>>16^65535)){b.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&B,A=B=0,n.mode=15,F===6)break t;case 15:n.mode=16;case 16:if(X=n.length){if(Z<X&&(X=Z),Q<X&&(X=Q),X===0)break t;i.arraySet(tt,L,M,X,et),Z-=X,M+=X,Q-=X,et+=X,n.length-=X;break}n.mode=12;break;case 17:for(;A<14;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if(n.nlen=257+(31&B),B>>>=5,A-=5,n.ndist=1+(31&B),B>>>=5,A-=5,n.ncode=4+(15&B),B>>>=4,A-=4,286<n.nlen||30<n.ndist){b.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;A<3;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}n.lens[U[n.have++]]=7&B,B>>>=3,A-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},O=u(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,O){b.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;it=(f=n.lencode[B&(1<<n.lenbits)-1])>>>16&255,dt=65535&f,!((nt=f>>>24)<=A);){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if(dt<16)B>>>=nt,A-=nt,n.lens[n.have++]=dt;else{if(dt===16){for(y=nt+2;A<y;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if(B>>>=nt,A-=nt,n.have===0){b.msg="invalid bit length repeat",n.mode=30;break}t=n.lens[n.have-1],X=3+(3&B),B>>>=2,A-=2}else if(dt===17){for(y=nt+3;A<y;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}A-=nt,t=0,X=3+(7&(B>>>=nt)),B>>>=3,A-=3}else{for(y=nt+7;A<y;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}A-=nt,t=0,X=11+(127&(B>>>=nt)),B>>>=7,A-=7}if(n.have+X>n.nlen+n.ndist){b.msg="invalid bit length repeat",n.mode=30;break}for(;X--;)n.lens[n.have++]=t}}if(n.mode===30)break;if(n.lens[256]===0){b.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,T={bits:n.lenbits},O=u(h,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,O){b.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},O=u(p,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,O){b.msg="invalid distances set",n.mode=30;break}if(n.mode=20,F===6)break t;case 20:n.mode=21;case 21:if(6<=Z&&258<=Q){b.next_out=et,b.avail_out=Q,b.next_in=M,b.avail_in=Z,n.hold=B,n.bits=A,o(b,q),et=b.next_out,tt=b.output,Q=b.avail_out,M=b.next_in,L=b.input,Z=b.avail_in,B=n.hold,A=n.bits,n.mode===12&&(n.back=-1);break}for(n.back=0;it=(f=n.lencode[B&(1<<n.lenbits)-1])>>>16&255,dt=65535&f,!((nt=f>>>24)<=A);){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if(it&&(240&it)==0){for(ct=nt,gt=it,mt=dt;it=(f=n.lencode[mt+((B&(1<<ct+gt)-1)>>ct)])>>>16&255,dt=65535&f,!(ct+(nt=f>>>24)<=A);){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}B>>>=ct,A-=ct,n.back+=ct}if(B>>>=nt,A-=nt,n.back+=nt,n.length=dt,it===0){n.mode=26;break}if(32&it){n.back=-1,n.mode=12;break}if(64&it){b.msg="invalid literal/length code",n.mode=30;break}n.extra=15&it,n.mode=22;case 22:if(n.extra){for(y=n.extra;A<y;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}n.length+=B&(1<<n.extra)-1,B>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;it=(f=n.distcode[B&(1<<n.distbits)-1])>>>16&255,dt=65535&f,!((nt=f>>>24)<=A);){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if((240&it)==0){for(ct=nt,gt=it,mt=dt;it=(f=n.distcode[mt+((B&(1<<ct+gt)-1)>>ct)])>>>16&255,dt=65535&f,!(ct+(nt=f>>>24)<=A);){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}B>>>=ct,A-=ct,n.back+=ct}if(B>>>=nt,A-=nt,n.back+=nt,64&it){b.msg="invalid distance code",n.mode=30;break}n.offset=dt,n.extra=15&it,n.mode=24;case 24:if(n.extra){for(y=n.extra;A<y;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}n.offset+=B&(1<<n.extra)-1,B>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){b.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(Q===0)break t;if(X=q-Q,n.offset>X){if((X=n.offset-X)>n.whave&&n.sane){b.msg="invalid distance too far back",n.mode=30;break}lt=X>n.wnext?(X-=n.wnext,n.wsize-X):n.wnext-X,X>n.length&&(X=n.length),ht=n.window}else ht=tt,lt=et-n.offset,X=n.length;for(Q<X&&(X=Q),Q-=X,n.length-=X;tt[et++]=ht[lt++],--X;);n.length===0&&(n.mode=21);break;case 26:if(Q===0)break t;tt[et++]=n.length,Q--,n.mode=21;break;case 27:if(n.wrap){for(;A<32;){if(Z===0)break t;Z--,B|=L[M++]<<A,A+=8}if(q-=Q,b.total_out+=q,n.total+=q,q&&(b.adler=n.check=n.flags?e(n.check,tt,q,et-q):a(n.check,tt,q,et-q)),q=Q,(n.flags?B:d(B))!==n.check){b.msg="incorrect data check",n.mode=30;break}A=B=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;A<32;){if(Z===0)break t;Z--,B+=L[M++]<<A,A+=8}if(B!==(4294967295&n.total)){b.msg="incorrect length check",n.mode=30;break}A=B=0}n.mode=29;case 29:O=1;break t;case 30:O=-3;break t;case 31:return-4;case 32:default:return r}return b.next_out=et,b.avail_out=Q,b.next_in=M,b.avail_in=Z,n.hold=B,n.bits=A,(n.wsize||q!==b.avail_out&&n.mode<30&&(n.mode<27||F!==4))&&J(b,b.output,b.next_out,q-b.avail_out)?(n.mode=31,-4):(V-=b.avail_in,q-=b.avail_out,b.total_in+=V,b.total_out+=q,n.total+=q,n.wrap&&q&&(b.adler=n.check=n.flags?e(n.check,tt,q,b.next_out-q):a(n.check,tt,q,b.next_out-q)),b.data_type=n.bits+(n.last?64:0)+(n.mode===12?128:0)+(n.mode===20||n.mode===15?256:0),(V==0&&q===0||F===4)&&O===_&&(O=-5),O)},c.inflateEnd=function(b){if(!b||!b.state)return r;var F=b.state;return F.window&&(F.window=null),b.state=null,_},c.inflateGetHeader=function(b,F){var n;return b&&b.state?(2&(n=b.state).wrap)==0?r:((n.head=F).done=!1,_):r},c.inflateSetDictionary=function(b,F){var n,L=F.length;return b&&b.state?(n=b.state).wrap!==0&&n.mode!==11?r:n.mode===11&&a(1,F,L,0)!==n.check?-3:J(b,F,L,L)?(n.mode=31,-4):(n.havedict=1,_):r},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,w,c){var i=l("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];w.exports=function(h,p,_,r,g,s,m,d){var v,x,E,S,D,N,P,R,$,J=d.bits,b=0,F=0,n=0,L=0,tt=0,M=0,et=0,Z=0,Q=0,B=0,A=null,V=0,q=new i.Buf16(16),X=new i.Buf16(16),lt=null,ht=0;for(b=0;b<=15;b++)q[b]=0;for(F=0;F<r;F++)q[p[_+F]]++;for(tt=J,L=15;1<=L&&q[L]===0;L--);if(L<tt&&(tt=L),L===0)return g[s++]=20971520,g[s++]=20971520,d.bits=1,0;for(n=1;n<L&&q[n]===0;n++);for(tt<n&&(tt=n),b=Z=1;b<=15;b++)if(Z<<=1,(Z-=q[b])<0)return-1;if(0<Z&&(h===0||L!==1))return-1;for(X[1]=0,b=1;b<15;b++)X[b+1]=X[b]+q[b];for(F=0;F<r;F++)p[_+F]!==0&&(m[X[p[_+F]]++]=F);if(N=h===0?(A=lt=m,19):h===1?(A=a,V-=257,lt=e,ht-=257,256):(A=o,lt=u,-1),b=n,D=s,et=F=B=0,E=-1,S=(Q=1<<(M=tt))-1,h===1&&852<Q||h===2&&592<Q)return 1;for(;;){for(P=b-et,$=m[F]<N?(R=0,m[F]):m[F]>N?(R=lt[ht+m[F]],A[V+m[F]]):(R=96,0),v=1<<b-et,n=x=1<<M;g[D+(B>>et)+(x-=v)]=P<<24|R<<16|$|0,x!==0;);for(v=1<<b-1;B&v;)v>>=1;if(v!==0?(B&=v-1,B+=v):B=0,F++,--q[b]==0){if(b===L)break;b=p[_+m[F]]}if(tt<b&&(B&S)!==E){for(et===0&&(et=tt),D+=n,Z=1<<(M=b-et);M+et<L&&!((Z-=q[M+et])<=0);)M++,Z<<=1;if(Q+=1<<M,h===1&&852<Q||h===2&&592<Q)return 1;g[E=B&S]=tt<<24|M<<16|D-s|0}}return B!==0&&(g[D+B]=b-et<<24|64<<16|0),d.bits=tt,0}},{"../utils/common":41}],51:[function(l,w,c){w.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,w,c){var i=l("../utils/common"),a=0,e=1;function o(f){for(var k=f.length;0<=--k;)f[k]=0}var u=0,h=29,p=256,_=p+1+h,r=30,g=19,s=2*_+1,m=15,d=16,v=7,x=256,E=16,S=17,D=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(_+2));o(J);var b=new Array(2*r);o(b);var F=new Array(512);o(F);var n=new Array(256);o(n);var L=new Array(h);o(L);var tt,M,et,Z=new Array(r);function Q(f,k,U,j,z){this.static_tree=f,this.extra_bits=k,this.extra_base=U,this.elems=j,this.max_length=z,this.has_stree=f&&f.length}function B(f,k){this.dyn_tree=f,this.max_code=0,this.stat_desc=k}function A(f){return f<256?F[f]:F[256+(f>>>7)]}function V(f,k){f.pending_buf[f.pending++]=255&k,f.pending_buf[f.pending++]=k>>>8&255}function q(f,k,U){f.bi_valid>d-U?(f.bi_buf|=k<<f.bi_valid&65535,V(f,f.bi_buf),f.bi_buf=k>>d-f.bi_valid,f.bi_valid+=U-d):(f.bi_buf|=k<<f.bi_valid&65535,f.bi_valid+=U)}function X(f,k,U){q(f,U[2*k],U[2*k+1])}function lt(f,k){for(var U=0;U|=1&f,f>>>=1,U<<=1,0<--k;);return U>>>1}function ht(f,k,U){var j,z,W=new Array(m+1),K=0;for(j=1;j<=m;j++)W[j]=K=K+U[j-1]<<1;for(z=0;z<=k;z++){var H=f[2*z+1];H!==0&&(f[2*z]=lt(W[H]++,H))}}function nt(f){var k;for(k=0;k<_;k++)f.dyn_ltree[2*k]=0;for(k=0;k<r;k++)f.dyn_dtree[2*k]=0;for(k=0;k<g;k++)f.bl_tree[2*k]=0;f.dyn_ltree[2*x]=1,f.opt_len=f.static_len=0,f.last_lit=f.matches=0}function it(f){8<f.bi_valid?V(f,f.bi_buf):0<f.bi_valid&&(f.pending_buf[f.pending++]=f.bi_buf),f.bi_buf=0,f.bi_valid=0}function dt(f,k,U,j){var z=2*k,W=2*U;return f[z]<f[W]||f[z]===f[W]&&j[k]<=j[U]}function ct(f,k,U){for(var j=f.heap[U],z=U<<1;z<=f.heap_len&&(z<f.heap_len&&dt(k,f.heap[z+1],f.heap[z],f.depth)&&z++,!dt(k,j,f.heap[z],f.depth));)f.heap[U]=f.heap[z],U=z,z<<=1;f.heap[U]=j}function gt(f,k,U){var j,z,W,K,H=0;if(f.last_lit!==0)for(;j=f.pending_buf[f.d_buf+2*H]<<8|f.pending_buf[f.d_buf+2*H+1],z=f.pending_buf[f.l_buf+H],H++,j===0?X(f,z,k):(X(f,(W=n[z])+p+1,k),(K=N[W])!==0&&q(f,z-=L[W],K),X(f,W=A(--j),U),(K=P[W])!==0&&q(f,j-=Z[W],K)),H<f.last_lit;);X(f,x,k)}function mt(f,k){var U,j,z,W=k.dyn_tree,K=k.stat_desc.static_tree,H=k.stat_desc.has_stree,Y=k.stat_desc.elems,at=-1;for(f.heap_len=0,f.heap_max=s,U=0;U<Y;U++)W[2*U]!==0?(f.heap[++f.heap_len]=at=U,f.depth[U]=0):W[2*U+1]=0;for(;f.heap_len<2;)W[2*(z=f.heap[++f.heap_len]=at<2?++at:0)]=1,f.depth[z]=0,f.opt_len--,H&&(f.static_len-=K[2*z+1]);for(k.max_code=at,U=f.heap_len>>1;1<=U;U--)ct(f,W,U);for(z=Y;U=f.heap[1],f.heap[1]=f.heap[f.heap_len--],ct(f,W,1),j=f.heap[1],f.heap[--f.heap_max]=U,f.heap[--f.heap_max]=j,W[2*z]=W[2*U]+W[2*j],f.depth[z]=(f.depth[U]>=f.depth[j]?f.depth[U]:f.depth[j])+1,W[2*U+1]=W[2*j+1]=z,f.heap[1]=z++,ct(f,W,1),2<=f.heap_len;);f.heap[--f.heap_max]=f.heap[1],(function(rt,pt){var xt,_t,kt,ut,Ct,Bt,yt=pt.dyn_tree,Mt=pt.max_code,le=pt.stat_desc.static_tree,ce=pt.stat_desc.has_stree,ue=pt.stat_desc.extra_bits,Pt=pt.stat_desc.extra_base,St=pt.stat_desc.max_length,zt=0;for(ut=0;ut<=m;ut++)rt.bl_count[ut]=0;for(yt[2*rt.heap[rt.heap_max]+1]=0,xt=rt.heap_max+1;xt<s;xt++)St<(ut=yt[2*yt[2*(_t=rt.heap[xt])+1]+1]+1)&&(ut=St,zt++),yt[2*_t+1]=ut,Mt<_t||(rt.bl_count[ut]++,Ct=0,Pt<=_t&&(Ct=ue[_t-Pt]),Bt=yt[2*_t],rt.opt_len+=Bt*(ut+Ct),ce&&(rt.static_len+=Bt*(le[2*_t+1]+Ct)));if(zt!==0){do{for(ut=St-1;rt.bl_count[ut]===0;)ut--;rt.bl_count[ut]--,rt.bl_count[ut+1]+=2,rt.bl_count[St]--,zt-=2}while(0<zt);for(ut=St;ut!==0;ut--)for(_t=rt.bl_count[ut];_t!==0;)Mt<(kt=rt.heap[--xt])||(yt[2*kt+1]!==ut&&(rt.opt_len+=(ut-yt[2*kt+1])*yt[2*kt],yt[2*kt+1]=ut),_t--)}})(f,k),ht(W,at,f.bl_count)}function t(f,k,U){var j,z,W=-1,K=k[1],H=0,Y=7,at=4;for(K===0&&(Y=138,at=3),k[2*(U+1)+1]=65535,j=0;j<=U;j++)z=K,K=k[2*(j+1)+1],++H<Y&&z===K||(H<at?f.bl_tree[2*z]+=H:z!==0?(z!==W&&f.bl_tree[2*z]++,f.bl_tree[2*E]++):H<=10?f.bl_tree[2*S]++:f.bl_tree[2*D]++,W=z,at=(H=0)===K?(Y=138,3):z===K?(Y=6,3):(Y=7,4))}function O(f,k,U){var j,z,W=-1,K=k[1],H=0,Y=7,at=4;for(K===0&&(Y=138,at=3),j=0;j<=U;j++)if(z=K,K=k[2*(j+1)+1],!(++H<Y&&z===K)){if(H<at)for(;X(f,z,f.bl_tree),--H!=0;);else z!==0?(z!==W&&(X(f,z,f.bl_tree),H--),X(f,E,f.bl_tree),q(f,H-3,2)):H<=10?(X(f,S,f.bl_tree),q(f,H-3,3)):(X(f,D,f.bl_tree),q(f,H-11,7));W=z,at=(H=0)===K?(Y=138,3):z===K?(Y=6,3):(Y=7,4)}}o(Z);var T=!1;function y(f,k,U,j){q(f,(u<<1)+(j?1:0),3),(function(z,W,K,H){it(z),V(z,K),V(z,~K),i.arraySet(z.pending_buf,z.window,W,K,z.pending),z.pending+=K})(f,k,U)}c._tr_init=function(f){T||((function(){var k,U,j,z,W,K=new Array(m+1);for(z=j=0;z<h-1;z++)for(L[z]=j,k=0;k<1<<N[z];k++)n[j++]=z;for(n[j-1]=z,z=W=0;z<16;z++)for(Z[z]=W,k=0;k<1<<P[z];k++)F[W++]=z;for(W>>=7;z<r;z++)for(Z[z]=W<<7,k=0;k<1<<P[z]-7;k++)F[256+W++]=z;for(U=0;U<=m;U++)K[U]=0;for(k=0;k<=143;)J[2*k+1]=8,k++,K[8]++;for(;k<=255;)J[2*k+1]=9,k++,K[9]++;for(;k<=279;)J[2*k+1]=7,k++,K[7]++;for(;k<=287;)J[2*k+1]=8,k++,K[8]++;for(ht(J,_+1,K),k=0;k<r;k++)b[2*k+1]=5,b[2*k]=lt(k,5);tt=new Q(J,N,p+1,_,m),M=new Q(b,P,0,r,m),et=new Q(new Array(0),R,0,g,v)})(),T=!0),f.l_desc=new B(f.dyn_ltree,tt),f.d_desc=new B(f.dyn_dtree,M),f.bl_desc=new B(f.bl_tree,et),f.bi_buf=0,f.bi_valid=0,nt(f)},c._tr_stored_block=y,c._tr_flush_block=function(f,k,U,j){var z,W,K=0;0<f.level?(f.strm.data_type===2&&(f.strm.data_type=(function(H){var Y,at=4093624447;for(Y=0;Y<=31;Y++,at>>>=1)if(1&at&&H.dyn_ltree[2*Y]!==0)return a;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return e;for(Y=32;Y<p;Y++)if(H.dyn_ltree[2*Y]!==0)return e;return a})(f)),mt(f,f.l_desc),mt(f,f.d_desc),K=(function(H){var Y;for(t(H,H.dyn_ltree,H.l_desc.max_code),t(H,H.dyn_dtree,H.d_desc.max_code),mt(H,H.bl_desc),Y=g-1;3<=Y&&H.bl_tree[2*$[Y]+1]===0;Y--);return H.opt_len+=3*(Y+1)+5+5+4,Y})(f),z=f.opt_len+3+7>>>3,(W=f.static_len+3+7>>>3)<=z&&(z=W)):z=W=U+5,U+4<=z&&k!==-1?y(f,k,U,j):f.strategy===4||W===z?(q(f,2+(j?1:0),3),gt(f,J,b)):(q(f,4+(j?1:0),3),(function(H,Y,at,rt){var pt;for(q(H,Y-257,5),q(H,at-1,5),q(H,rt-4,4),pt=0;pt<rt;pt++)q(H,H.bl_tree[2*$[pt]+1],3);O(H,H.dyn_ltree,Y-1),O(H,H.dyn_dtree,at-1)})(f,f.l_desc.max_code+1,f.d_desc.max_code+1,K+1),gt(f,f.dyn_ltree,f.dyn_dtree)),nt(f),j&&it(f)},c._tr_tally=function(f,k,U){return f.pending_buf[f.d_buf+2*f.last_lit]=k>>>8&255,f.pending_buf[f.d_buf+2*f.last_lit+1]=255&k,f.pending_buf[f.l_buf+f.last_lit]=255&U,f.last_lit++,k===0?f.dyn_ltree[2*U]++:(f.matches++,k--,f.dyn_ltree[2*(n[U]+p+1)]++,f.dyn_dtree[2*A(k)]++),f.last_lit===f.lit_bufsize-1},c._tr_align=function(f){q(f,2,3),X(f,x,J),(function(k){k.bi_valid===16?(V(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)})(f)}},{"../utils/common":41}],53:[function(l,w,c){w.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,w,c){(function(i){(function(a,e){if(!a.setImmediate){var o,u,h,p,_=1,r={},g=!1,s=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,o={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){v(E)})}:(function(){if(a.postMessage&&!a.importScripts){var E=!0,S=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=S,E}})()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(E){a.postMessage(p+E,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(E){v(E.data)},function(E){h.port2.postMessage(E)}):s&&"onreadystatechange"in s.createElement("script")?(u=s.documentElement,function(E){var S=s.createElement("script");S.onreadystatechange=function(){v(E),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(E){setTimeout(v,0,E)},m.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var S=new Array(arguments.length-1),D=0;D<S.length;D++)S[D]=arguments[D+1];var N={callback:E,args:S};return r[_]=N,o(_),_++},m.clearImmediate=d}function d(E){delete r[E]}function v(E){if(g)setTimeout(v,0,E);else{var S=r[E];if(S){g=!0;try{(function(D){var N=D.callback,P=D.args;switch(P.length){case 0:N();break;case 1:N(P[0]);break;case 2:N(P[0],P[1]);break;case 3:N(P[0],P[1],P[2]);break;default:N.apply(e,P)}})(S)}finally{d(E),g=!1}}}}function x(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(p)===0&&v(+E.data.slice(p.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof vt<"u"?vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Tt)),Tt.exports}var fe=he();const Xt=de(fe),ot={w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",a:"http://schemas.openxmlformats.org/drawingml/2006/main",p:"http://schemas.openxmlformats.org/presentationml/2006/main"};function qt(C){const l=new DOMParser().parseFromString(C,"application/xml"),w=l.querySelector("parsererror");if(w)throw new Error(`XML parse error: ${w.textContent}`);return l}function Kt(C){let l=new XMLSerializer().serializeToString(C);return l.startsWith("<?xml")||(l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`+l),l}function Yt(C){const I=[];for(const l of C.childNodes)l.localName==="t"&&l.namespaceURI===ot.w&&I.push(l);return I}function Nt(C){const I=[];for(const l of C.childNodes)if(l.localName==="r"&&l.namespaceURI===ot.w&&I.push(l),l.localName==="hyperlink"&&l.namespaceURI===ot.w)for(const w of l.childNodes)w.localName==="r"&&w.namespaceURI===ot.w&&I.push(w);return I}function Vt(C){const I=Nt(C);let l="";for(const w of I){const c=Yt(w);for(const i of c)l+=i.textContent||""}return l}function Ft(C){const I=[];function l(w){for(const c of w.childNodes)c.localName==="p"&&c.namespaceURI===ot.w&&I.push(c),c.childNodes&&c.childNodes.length>0&&(c.localName==="tc"||c.localName==="body"||c.localName==="tbl"||c.localName==="tr"||c.localName==="sdtContent"||c.localName==="sdt"||c.localName==="txbxContent"||c.localName==="hdr"||c.localName==="ftr")&&l(c)}return l(C),I}function Ot(C){return Vt(C).trim().length>0}function Lt(C){const I=[];function l(w){for(const c of w.childNodes){if(c.localName==="sp"&&c.namespaceURI===ot.p){for(const i of c.childNodes)if(i.localName==="txBody"&&i.namespaceURI===ot.p){I.push(c);break}}c.localName==="grpSp"&&c.namespaceURI===ot.p&&l(c)}}for(const w of C.childNodes)if(w.localName==="cSld"&&w.namespaceURI===ot.p)for(const c of w.childNodes)c.localName==="spTree"&&c.namespaceURI===ot.p&&l(c);return I}function Jt(C){for(const I of C.childNodes)if(I.localName==="txBody"&&I.namespaceURI===ot.p)return I;return null}function Qt(C){const I=[];for(const l of C.childNodes)l.localName==="p"&&l.namespaceURI===ot.a&&I.push(l);return I}function Dt(C){const I=[];for(const l of C.childNodes)l.localName==="r"&&l.namespaceURI===ot.a&&I.push(l);return I}function te(C){const I=[];for(const l of C.childNodes)l.localName==="t"&&l.namespaceURI===ot.a&&I.push(l);return I}function ee(C){const I=Dt(C);let l="";for(const w of I){const c=te(w);for(const i of c)l+=i.textContent||""}return l}function ne(C){return ee(C).trim().length>0}async function re(C,I){const l=await Xt.loadAsync(C);I==null||I({step:"unzip",message:"Archive dcompresse"});const w=[];l.file("word/document.xml")&&w.push("word/document.xml");for(const e of Object.keys(l.files))/^word\/(header|footer)\d*\.xml$/i.test(e)&&!w.includes(e)&&w.push(e);l.file("word/footnotes.xml")&&w.push("word/footnotes.xml"),l.file("word/endnotes.xml")&&w.push("word/endnotes.xml"),I==null||I({step:"identify",message:`${w.length} fichiers XML identifis`});const c=new Map;for(const e of w){const o=await l.file(e).async("string"),u=qt(o);c.set(e,u)}I==null||I({step:"parse",message:"XML pars"});const i=[];let a=0;for(const[e,o]of c){const u=o.documentElement,h=Ft(u);for(const p of h){if(!Ot(p))continue;const _=Vt(p);i.push({id:a++,text:_,xmlPath:e,_element:p})}}return I==null||I({step:"segments",message:`${i.length} segments de texte extraits`}),{zip:l,xmlFiles:c,segments:i}}function ie(C){const I=C.get("word/document.xml");if(!I)return{};const l={paragraphCount:0,hasHeaders:!1,hasFooters:!1,hasFootnotes:!1,hasTables:!1,hasImages:!1},w=Ft(I.documentElement);l.paragraphCount=w.filter(Ot).length;for(const a of C.keys())a.includes("header")&&(l.hasHeaders=!0),a.includes("footer")&&(l.hasFooters=!0),a.includes("footnote")&&(l.hasFootnotes=!0);const c=I.getElementsByTagNameNS("http://schemas.openxmlformats.org/wordprocessingml/2006/main","tbl");if(l.hasTables=c.length>0,I.getElementsByTagNameNS("http://schemas.openxmlformats.org/wordprocessingml/2006/main","drawing").length===0){const a=I.getElementsByTagNameNS("http://schemas.openxmlformats.org/drawingml/2006/picture","pic");l.hasImages=a.length>0}else l.hasImages=!0;return l}async function ae(C,I){const l=await Xt.loadAsync(C);I==null||I({step:"unzip",message:"Archive PPTX dcompresse"});const w=[];for(const u of Object.keys(l.files))/^ppt\/slides\/slide\d+\.xml$/i.test(u)&&w.push(u);w.sort((u,h)=>{const p=parseInt(u.match(/slide(\d+)/i)[1],10),_=parseInt(h.match(/slide(\d+)/i)[1],10);return p-_});const c=[];for(const u of Object.keys(l.files))/^ppt\/notesSlides\/notesSlide\d+\.xml$/i.test(u)&&c.push(u);c.sort((u,h)=>{const p=parseInt(u.match(/notesSlide(\d+)/i)[1],10),_=parseInt(h.match(/notesSlide(\d+)/i)[1],10);return p-_});const i=w.length;I==null||I({step:"identify",message:`${i} slides dtectes`});const a=new Map;for(const u of w){const h=await l.file(u).async("string"),p=qt(h);a.set(u,p)}I==null||I({step:"parse",message:"XML des slides pars"});const e=[];let o=0;for(const[u,h]of a){const p=h.documentElement,_=Lt(p);for(const r of _){const g=Jt(r);if(!g)continue;const s=Qt(g);for(const m of s){if(!ne(m))continue;const d=ee(m);e.push({id:o++,text:d,xmlPath:u,_element:m})}}}return I==null||I({step:"segments",message:`${e.length} segments de texte extraits de ${i} slides`}),{zip:l,xmlFiles:a,segments:e,slideCount:i}}function pe(C,I){const l={slideCount:I,shapeCount:0,hasNotes:!1};for(const[,w]of C){const c=Lt(w.documentElement);l.shapeCount+=c.length}return l}function me(C){return C.split(/\r?\n/).map(I=>I.trim()).filter(I=>I.length>0)}function ge(C,I,l){const w=me(I),c=new Map,i=[],a={total:C.length,matched:0,fuzzy:0,unmatched:0,method:""};l==null||l({step:"match-start",message:`${C.length} segments source, ${w.length} paragraphes traduits`});const e=C.length,o=w.length;if(e===o){a.method="structure-1:1";for(let u=0;u<e;u++)c.set(C[u].id,w[u]);return a.matched=e,l==null||l({step:"match-done",message:`Correspondance 1:1 parfaite (${a.matched} segments)`}),{mapping:c,unmatched:i,stats:a}}if(e>o){a.method="sequential-partial";for(let u=0;u<e;u++)u<o?(c.set(C[u].id,w[u]),a.matched++):(i.push(C[u]),a.unmatched++);return l==null||l({step:"match-done",message:`${a.matched} segments mapps, ${a.unmatched} sans traduction (conservs  l'original)`}),{mapping:c,unmatched:i,stats:a}}a.method="sequential-merge";for(let u=0;u<e;u++){if(u<e-1)c.set(C[u].id,w[u]);else{const h=w.slice(u).join(" ");c.set(C[u].id,h)}a.matched++}return a.fuzzy=o-e,l==null||l({step:"match-done",message:`${a.matched} segments mapps (${a.fuzzy} paragraphes excdentaires fusionns dans le dernier segment)`}),{mapping:c,unmatched:i,stats:a}}function Wt(C){const I=[];return I.push(" Rsultat du matching :"),I.push(`  Total segments : ${C.total}`),I.push(`   Mapps : ${C.matched}`),C.fuzzy>0&&I.push(`   Approximatifs : ${C.fuzzy}`),C.unmatched>0&&I.push(`   Non-mapps : ${C.unmatched}`),I.push(`  Mthode : ${C.method}`),I.join(`
`)}async function _e(C,I,l,w,c){c==null||c({step:"rebuild-start",message:"Dbut de la reconstruction..."});const i=new Map;for(const o of l)i.has(o.xmlPath)||i.set(o.xmlPath,[]),i.get(o.xmlPath).push(o);let a=0;for(const[o,u]of I){const h=i.get(o);if(!h||h.length===0)continue;const _=Ft(u.documentElement).filter(Ot),r=Math.min(_.length,h.length);for(let s=0;s<r;s++){const m=h[s],d=w.get(m.id);d!==void 0?(ye(_[s],d),a++):ve(_[s],u)}for(let s=r;s<_.length;s++);const g=Kt(u);C.file(o,g),c==null||c({step:"rebuild-file",message:`${o} mis  jour (${a} segments)`})}c==null||c({step:"rebuild-generate",message:"Gnration du fichier DOCX..."});const e=await C.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE",compressionOptions:{level:6}},o=>{c==null||c({step:"rebuild-zip",message:`Compression : ${Math.round(o.percent)}%`})});return c==null||c({step:"rebuild-done",message:`Termin ! ${a} segments remplacs.`}),e}function ye(C,I){const l=Nt(C);if(l.length===0)return;const w=[];let c=0;for(const h of l){const p=Yt(h);let _="";for(const r of p)_+=r.textContent||"";w.push({run:h,textNodes:p,originalText:_,length:_.length}),c+=_.length}const i=w.filter(h=>h.length>0);if(i.length===0)return;if(i.length===1){const h=i[0];if(h.textNodes.length>=1){h.textNodes[0].textContent=I,h.textNodes[0].setAttribute("xml:space","preserve");for(let p=1;p<h.textNodes.length;p++)h.textNodes[p].textContent=""}return}const a=I.split(/(\s+)/),e=I.length,o=i.map(h=>Math.round(h.length/c*e));let u=0;for(let h=0;h<i.length;h++){const p=i[h],_=h===i.length-1;let r="";if(_)r=a.slice(u).join("");else{const g=o[h];for(;u<a.length;){const s=a[u];if(r.length>0&&r.length+s.length>g*1.3||(r+=s,u++,r.length>=g&&u<a.length))break}}if(p.textNodes.length>=1){p.textNodes[0].textContent=r,p.textNodes[0].setAttribute("xml:space","preserve");for(let g=1;g<p.textNodes.length;g++)p.textNodes[g].textContent=""}}}function ve(C,I){const l=Nt(C);if(l.length!==0)for(const w of l){let c=null;for(const e of w.childNodes)if(e.localName==="rPr"&&e.namespaceURI===ot.w){c=e;break}c||(c=I.createElementNS(ot.w,"w:rPr"),w.insertBefore(c,w.firstChild));const i=[];for(const e of c.childNodes)e.localName==="highlight"&&e.namespaceURI===ot.w&&i.push(e);for(const e of i)c.removeChild(e);const a=I.createElementNS(ot.w,"w:highlight");a.setAttributeNS(ot.w,"w:val","red"),c.appendChild(a)}}async function be(C,I,l,w,c){c==null||c({step:"rebuild-start",message:"Dbut de la reconstruction PPTX..."});const i=new Map;for(const o of l)i.has(o.xmlPath)||i.set(o.xmlPath,[]),i.get(o.xmlPath).push(o);let a=0;for(const[o,u]of I){const h=i.get(o);if(!h||h.length===0)continue;const p=[],_=Lt(u.documentElement);for(const s of _){const m=Jt(s);if(!m)continue;const d=Qt(m);for(const v of d)ne(v)&&p.push(v)}const r=Math.min(p.length,h.length);for(let s=0;s<r;s++){const m=h[s],d=w.get(m.id);d!==void 0?(we(p[s],d),a++):xe(p[s],u)}const g=Kt(u);C.file(o,g),c==null||c({step:"rebuild-file",message:`${o} mis  jour (${a} segments)`})}c==null||c({step:"rebuild-generate",message:"Gnration du fichier PPTX..."});const e=await C.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation",compression:"DEFLATE",compressionOptions:{level:6}},o=>{c==null||c({step:"rebuild-zip",message:`Compression : ${Math.round(o.percent)}%`})});return c==null||c({step:"rebuild-done",message:`Termin ! ${a} segments remplacs.`}),e}function we(C,I){const l=Dt(C);if(l.length===0)return;const w=[];let c=0;for(const h of l){const p=te(h);let _="";for(const r of p)_+=r.textContent||"";w.push({run:h,textNodes:p,originalText:_,length:_.length}),c+=_.length}const i=w.filter(h=>h.length>0);if(i.length===0)return;if(i.length===1){const h=i[0];if(h.textNodes.length>=1){h.textNodes[0].textContent=I;for(let p=1;p<h.textNodes.length;p++)h.textNodes[p].textContent=""}return}const a=I.split(/(\s+)/),e=I.length,o=i.map(h=>Math.round(h.length/c*e));let u=0;for(let h=0;h<i.length;h++){const p=i[h],_=h===i.length-1;let r="";if(_)r=a.slice(u).join("");else{const g=o[h];for(;u<a.length;){const s=a[u];if(r.length>0&&r.length+s.length>g*1.3||(r+=s,u++,r.length>=g&&u<a.length))break}}if(p.textNodes.length>=1){p.textNodes[0].textContent=r;for(let g=1;g<p.textNodes.length;g++)p.textNodes[g].textContent=""}}}function xe(C,I){const l=Dt(C);if(l.length!==0)for(const w of l){let c=null;for(const o of w.childNodes)if(o.localName==="rPr"&&o.namespaceURI===ot.a){c=o;break}c||(c=I.createElementNS(ot.a,"a:rPr"),w.insertBefore(c,w.firstChild));const i=[];for(const o of c.childNodes)o.localName==="highlight"&&o.namespaceURI===ot.a&&i.push(o);for(const o of i)c.removeChild(o);const a=I.createElementNS(ot.a,"a:highlight"),e=I.createElementNS(ot.a,"a:srgbClr");e.setAttribute("val","FF0000"),a.appendChild(e),c.appendChild(a)}}var At={exports:{}},ke=At.exports,$t;function Se(){return $t||($t=1,(function(C,I){(function(l,w){w()})(ke,function(){function l(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function w(u,h,p){var _=new XMLHttpRequest;_.open("GET",u),_.responseType="blob",_.onload=function(){o(_.response,h,p)},_.onerror=function(){console.error("could not download file")},_.send()}function c(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof vt=="object"&&vt.global===vt?vt:void 0,e=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!e?function(u,h,p){var _=a.URL||a.webkitURL,r=document.createElement("a");h=h||u.name||"download",r.download=h,r.rel="noopener",typeof u=="string"?(r.href=u,r.origin===location.origin?i(r):c(r.href)?w(u,h,p):i(r,r.target="_blank")):(r.href=_.createObjectURL(u),setTimeout(function(){_.revokeObjectURL(r.href)},4e4),setTimeout(function(){i(r)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,p){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(l(u,p),h);else if(c(u))w(u,h,p);else{var _=document.createElement("a");_.href=u,_.target="_blank",setTimeout(function(){i(_)})}}:function(u,h,p,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof u=="string")return w(u,h,p);var r=u.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&g||e)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var x=m.result;x=s?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=x:location=x,_=null},m.readAsDataURL(u)}else{var d=a.URL||a.webkitURL,v=d.createObjectURL(u);_?_.location=v:location.href=v,_=null,setTimeout(function(){d.revokeObjectURL(v)},4e4)}});a.saveAs=o.saveAs=o,C.exports=o})})(At)),At.exports}var Ee=Se();const st={sourceFile:null,sourceBuffer:null,translationText:"",generatedBlob:null,sourceFileName:"",fileType:""},G={dropZoneSource:document.getElementById("dropZoneSource"),fileInputSource:document.getElementById("fileInputSource"),sourceFileInfo:document.getElementById("sourceFileInfo"),sourceFileName:document.getElementById("sourceFileName"),sourceFileSize:document.getElementById("sourceFileSize"),sourceRemove:document.getElementById("sourceRemove"),sourceDocInfo:document.getElementById("sourceDocInfo"),sourceDocInfoList:document.getElementById("sourceDocInfoList"),tabPaste:document.getElementById("tabPaste"),tabFile:document.getElementById("tabFile"),tabContentPaste:document.getElementById("tabContentPaste"),tabContentFile:document.getElementById("tabContentFile"),translationTextarea:document.getElementById("translationTextarea"),charCount:document.getElementById("charCount"),paraCount:document.getElementById("paraCount"),dropZoneTranslation:document.getElementById("dropZoneTranslation"),fileInputTranslation:document.getElementById("fileInputTranslation"),transFileInfo:document.getElementById("transFileInfo"),transFileName:document.getElementById("transFileName"),transFileSize:document.getElementById("transFileSize"),transRemove:document.getElementById("transRemove"),outputPlaceholder:document.getElementById("outputPlaceholder"),progressContainer:document.getElementById("progressContainer"),progressSteps:document.getElementById("progressSteps"),progressBarFill:document.getElementById("progressBarFill"),progressMessage:document.getElementById("progressMessage"),outputResult:document.getElementById("outputResult"),resultStats:document.getElementById("resultStats"),outputErrors:document.getElementById("outputErrors"),errorBox:document.getElementById("errorBox"),btnGenerate:document.getElementById("btnGenerate"),btnDownload:document.getElementById("btnDownload"),matchReviewModal:document.getElementById("matchReviewModal"),matchReviewBody:document.getElementById("matchReviewBody"),modalClose:document.getElementById("modalClose"),modalSkip:document.getElementById("modalSkip"),modalConfirm:document.getElementById("modalConfirm")};function se(C){return C<1024?C+" o":C<1024*1024?(C/1024).toFixed(1)+" Ko":(C/(1024*1024)).toFixed(1)+" Mo"}function bt(){const C=st.sourceBuffer!==null,I=st.translationText.trim().length>0;G.btnGenerate.disabled=!(C&&I)}function Et(C){G.outputPlaceholder.style.display="none",G.progressContainer.style.display="none",G.outputResult.style.display="none",G.outputErrors.style.display="none",C==="placeholder"&&(G.outputPlaceholder.style.display=""),C==="progress"&&(G.progressContainer.style.display=""),C==="result"&&(G.outputResult.style.display=""),C==="error"&&(G.outputErrors.style.display="")}function Ht(C,I,l){C.addEventListener("click",w=>{w.target.closest(".file-remove")||I.click()}),I.addEventListener("change",()=>{I.files.length>0&&l(I.files[0])}),C.addEventListener("dragenter",w=>{w.preventDefault(),C.classList.add("drag-over")}),C.addEventListener("dragover",w=>{w.preventDefault(),C.classList.add("drag-over")}),C.addEventListener("dragleave",w=>{w.preventDefault(),C.contains(w.relatedTarget)||C.classList.remove("drag-over")}),C.addEventListener("drop",w=>{w.preventDefault(),C.classList.remove("drag-over"),w.dataTransfer.files.length>0&&l(w.dataTransfer.files[0])})}function Ce(C){const I=C.name.split(".").pop().toLowerCase();if(I!=="docx"&&I!=="pptx"){jt(" Veuillez slectionner un fichier .docx ou .pptx");return}st.sourceFile=C,st.sourceFileName=C.name.replace(/\.(docx|pptx)$/i,""),st.fileType=I;const l=new FileReader;l.onload=async w=>{st.sourceBuffer=w.target.result,G.dropZoneSource.querySelector(".drop-zone-content").style.display="none",G.sourceFileInfo.style.display="flex",G.sourceFileName.textContent=C.name,G.sourceFileSize.textContent=se(C.size),G.dropZoneSource.classList.add("has-file");const c=G.sourceFileInfo.querySelector(".file-info-icon");c.textContent=I==="pptx"?"":"";try{if(I==="pptx"){const{xmlFiles:i,segments:a,slideCount:e}=await ae(st.sourceBuffer),o=pe(i,e);G.sourceDocInfoList.innerHTML="";const u=[" Prsentation PowerPoint",`${o.slideCount} slides`,`${a.length} segments de texte`,`${o.shapeCount} zones de texte`].filter(Boolean);for(const h of u){const p=document.createElement("li");p.textContent=h,G.sourceDocInfoList.appendChild(p)}}else{const{xmlFiles:i,segments:a}=await re(st.sourceBuffer),e=ie(i);G.sourceDocInfoList.innerHTML="";const o=[" Document Word",`${a.length} segments de texte`,`${e.paragraphCount} paragraphes dans le corps`,e.hasTables?" Contient des tableaux":null,e.hasImages?" Contient des images":null,e.hasHeaders?" En-ttes dtects":null,e.hasFooters?" Pieds de page dtects":null,e.hasFootnotes?" Notes de bas de page":null].filter(Boolean);for(const u of o){const h=document.createElement("li");h.textContent=u,G.sourceDocInfoList.appendChild(h)}}G.sourceDocInfo.style.display=""}catch(i){console.error("Quick parse error:",i)}bt()},l.readAsArrayBuffer(C)}function ze(){st.sourceFile=null,st.sourceBuffer=null,st.sourceFileName="",st.fileType="",G.dropZoneSource.querySelector(".drop-zone-content").style.display="",G.sourceFileInfo.style.display="none",G.dropZoneSource.classList.remove("has-file"),G.sourceDocInfo.style.display="none",G.fileInputSource.value="";const C=G.sourceFileInfo.querySelector(".file-info-icon");C.textContent="",bt()}function Ie(C){if(!C.name.endsWith(".txt")){jt(" Veuillez slectionner un fichier .txt");return}const I=new FileReader;I.onload=l=>{st.translationText=l.target.result,G.translationTextarea.value=st.translationText,Ut(),G.dropZoneTranslation.querySelector(".drop-zone-content").style.display="none",G.transFileInfo.style.display="flex",G.transFileName.textContent=C.name,G.transFileSize.textContent=se(C.size),G.dropZoneTranslation.classList.add("has-file"),Rt("paste"),bt()},I.readAsText(C,"utf-8")}function Ae(){st.translationText="",G.translationTextarea.value="",G.dropZoneTranslation.querySelector(".drop-zone-content").style.display="",G.transFileInfo.style.display="none",G.dropZoneTranslation.classList.remove("has-file"),G.fileInputTranslation.value="",Ut(),bt()}function Ut(){const C=G.translationTextarea.value;st.translationText=C,G.charCount.textContent=`${C.length} caractres`;const I=C.split(/\r?\n/).filter(l=>l.trim().length>0);G.paraCount.textContent=`${I.length} paragraphes`,bt()}function Rt(C){G.tabPaste.classList.toggle("active",C==="paste"),G.tabFile.classList.toggle("active",C==="file"),G.tabContentPaste.style.display=C==="paste"?"":"none",G.tabContentFile.style.display=C==="file"?"":"none"}const oe=[{key:"analyze",icon:"",label:"Analyse du document source..."},{key:"extract",icon:"",label:"Extraction de la structure..."},{key:"match",icon:"",label:"Mapping texte source  traduction..."},{key:"rebuild",icon:"",label:"Reconstruction du document..."},{key:"finalize",icon:"",label:"Validation et gnration..."}];function Be(){G.progressSteps.innerHTML="";for(const C of oe){const I=document.createElement("div");I.className="progress-step",I.id=`step-${C.key}`,I.innerHTML=`
      <span class="step-icon">${C.icon}</span>
      <span>${C.label}</span>
    `,G.progressSteps.appendChild(I)}}function ft(C,I,l){let w=!1;for(const c of oe){const i=document.getElementById(`step-${c.key}`);i&&(c.key===C?(i.classList.add("active"),i.classList.remove("done"),w=!0):w?i.classList.remove("active","done"):(i.classList.remove("active"),i.classList.add("done")))}G.progressBarFill.style.width=`${I}%`,G.progressMessage.textContent=l||""}function jt(C,I="error"){Et("error"),G.errorBox.textContent=C,G.errorBox.className=`error-box ${I}`}async function Te(){Et("progress"),Be();const C=G.btnGenerate.querySelector(".btn-text"),I=G.btnGenerate.querySelector(".btn-loader"),l=G.btnGenerate.querySelector(".btn-icon");C.textContent="Traitement en cours...",I.style.display="",l.style.display="none",G.btnGenerate.disabled=!0;const w=st.fileType==="pptx",c=w?"PPTX":"DOCX";try{ft("analyze",10,`Dcompression de l'archive ${c}...`),await wt(200);let i,a,e,o;if(w){const r=await ae(st.sourceBuffer,g=>{ft("analyze",15,g.message)});i=r.zip,a=r.xmlFiles,e=r.segments,o=r.slideCount}else{const r=await re(st.sourceBuffer,g=>{ft("analyze",15,g.message)});i=r.zip,a=r.xmlFiles,e=r.segments}if(w)ft("extract",30,`${e.length} segments extraits de ${o} slides`);else{ft("extract",30,`${e.length} segments de texte extraits`);const r=ie(a);ft("extract",40,`Structure analyse : ${r.paragraphCount} paragraphes`)}await wt(300),ft("match",50,"Alignement du texte source et traduit..."),await wt(200);const{mapping:u,unmatched:h,stats:p}=ge(e,st.translationText,r=>{ft("match",60,r.message)});if(ft("match",65,Wt(p)),await wt(300),h.length>0&&!await Re(h,u)){Gt(),Et("placeholder");return}ft("rebuild",70,`Remplacement du texte dans le ${c}...`),await wt(200);let _;w?_=await be(i,a,e,u,r=>{const g=r.step==="rebuild-zip"?85:80;ft("rebuild",g,r.message)}):_=await _e(i,a,e,u,r=>{const g=r.step==="rebuild-zip"?85:80;ft("rebuild",g,r.message)}),st.generatedBlob=_,ft("finalize",100,"Document gnr avec succs !"),await wt(500),Et("result"),G.resultStats.textContent=Wt(p)}catch(i){console.error("Pipeline error:",i),jt(` Erreur : ${i.message}`)}finally{Gt()}}function Gt(){const C=G.btnGenerate.querySelector(".btn-text"),I=G.btnGenerate.querySelector(".btn-loader"),l=G.btnGenerate.querySelector(".btn-icon");C.textContent="Analyser et Gnrer",I.style.display="none",l.style.display="",bt()}function wt(C){return new Promise(I=>setTimeout(I,C))}function Re(C,I){return new Promise(l=>{G.matchReviewBody.innerHTML="";for(const e of C){const o=document.createElement("div");o.className="match-item",o.innerHTML=`
        <div class="match-item-header">Segment #${e.id+1}</div>
        <div class="match-source">${Ne(e.text)}</div>
        <textarea class="match-translation-input" data-seg-id="${e.id}"
          placeholder="Entrez la traduction correspondante..."></textarea>
      `,G.matchReviewBody.appendChild(o)}G.matchReviewModal.style.display="";const w=()=>{G.matchReviewModal.style.display="none",G.modalClose.removeEventListener("click",c),G.modalSkip.removeEventListener("click",i),G.modalConfirm.removeEventListener("click",a)},c=()=>{w(),l(!1)},i=()=>{w(),l(!0)},a=()=>{const e=G.matchReviewBody.querySelectorAll(".match-translation-input");for(const o of e){const u=parseInt(o.dataset.segId,10),h=o.value.trim();h&&I.set(u,h)}w(),l(!0)};G.modalClose.addEventListener("click",c),G.modalSkip.addEventListener("click",i),G.modalConfirm.addEventListener("click",a)})}function Ne(C){const I=document.createElement("div");return I.textContent=C,I.innerHTML}function Fe(){if(!st.generatedBlob)return;const C=st.fileType||"docx",I=`${st.sourceFileName}_traduit.${C}`;Ee.saveAs(st.generatedBlob,I)}function Oe(){Ht(G.dropZoneSource,G.fileInputSource,Ce),G.sourceRemove.addEventListener("click",C=>{C.stopPropagation(),ze()}),G.tabPaste.addEventListener("click",()=>Rt("paste")),G.tabFile.addEventListener("click",()=>Rt("file")),G.translationTextarea.addEventListener("input",Ut),Ht(G.dropZoneTranslation,G.fileInputTranslation,Ie),G.transRemove.addEventListener("click",C=>{C.stopPropagation(),Ae()}),G.btnGenerate.addEventListener("click",Te),G.btnDownload.addEventListener("click",Fe),Et("placeholder"),bt()}Oe();
